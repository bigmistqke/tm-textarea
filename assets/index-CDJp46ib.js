(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const r of u.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(d){if(d.ep)return;d.ep=!0;const u=n(d);fetch(d.href,u)}})();const On=(e,t)=>e===t,Ye=Symbol("solid-proxy"),xn=Symbol("solid-track"),ht={equals:On};let Pn=$n;const ve=1,gt=2,Nn={owned:null,cleanups:null,context:null,owner:null},jt={};var ie=null;let Ot=null,rs=null,ne=null,ge=null,Ae=null,kt=0;function Me(e,t){const n=ne,i=ie,d=e.length===0,u=t===void 0?i:t,r=d?Nn:{owned:null,cleanups:null,context:u?u.context:null,owner:u},c=d?e:()=>e(()=>fe(()=>wt(r)));ie=r,ne=null;try{return Pe(c,!0)}finally{ne=n,ie=i}}function le(e,t){t=t?Object.assign({},ht,t):ht;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=d=>(typeof d=="function"&&(d=d(n.value)),Rn(n,d));return[En.bind(n),i]}function nn(e,t,n){const i=Je(e,t,!0,ve);De(i)}function de(e,t,n){const i=Je(e,t,!1,ve);De(i)}function He(e,t,n){Pn=ps;const i=Je(e,t,!1,ve);i.user=!0,Ae?Ae.push(i):De(i)}function ye(e,t,n){n=n?Object.assign({},ht,n):ht;const i=Je(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,De(i),En.bind(i)}function is(e){return e&&typeof e=="object"&&"then"in e}function os(e,t,n){let i,d,u;arguments.length===2&&typeof t=="object"||arguments.length===1?(i=!0,d=e,u=t||{}):(i=e,d=t,u={});let r=null,c=jt,h=!1,l="initialValue"in u,v=typeof i=="function"&&ye(i);const k=new Set,[m,A]=(u.storage||le)(u.initialValue),[O,T]=le(void 0),[L,S]=le(void 0,{equals:!1}),[w,C]=le(l?"ready":"unresolved");function y(a,f,o,g){return r===a&&(r=null,g!==void 0&&(l=!0),(a===c||f===c)&&u.onHydrated&&queueMicrotask(()=>u.onHydrated(g,{value:f})),c=jt,b(f,o)),f}function b(a,f){Pe(()=>{f===void 0&&A(()=>a),C(f!==void 0?"errored":l?"ready":"unresolved"),T(f);for(const o of k.keys())o.decrement();k.clear()},!1)}function p(){const a=hs,f=m(),o=O();if(o!==void 0&&!r)throw o;return ne&&!ne.user&&a&&nn(()=>{L(),r&&(a.resolved||k.has(a)||(a.increment(),k.add(a)))}),f}function s(a=!0){if(a!==!1&&h)return;h=!1;const f=v?v():i;if(f==null||f===!1){y(r,fe(m));return}const o=c!==jt?c:fe(()=>d(f,{value:m(),refetching:a}));return is(o)?(r=o,"value"in o?(o.status==="success"?y(r,o.value,void 0,f):y(r,void 0,Dt(o.value),f),o):(h=!0,queueMicrotask(()=>h=!1),Pe(()=>{C(l?"refreshing":"pending"),S()},!1),o.then(g=>y(o,g,void 0,f),g=>y(o,void 0,Dt(g),f)))):(y(r,o,void 0,f),o)}return Object.defineProperties(p,{state:{get:()=>w()},error:{get:()=>O()},loading:{get(){const a=w();return a==="pending"||a==="refreshing"}},latest:{get(){if(!l)return p();const a=O();if(a&&!r)throw a;return m()}}}),v?nn(()=>s(!1)):s(!1),[p,{refetch:s,mutate:A}]}function as(e,t=On,n){const i=new Map,d=Je(u=>{const r=e();for(const[c,h]of i.entries())if(t(c,r)!==t(c,u))for(const l of h.values())l.state=ve,l.pure?ge.push(l):Ae.push(l);return r},void 0,!0,ve);return De(d),u=>{const r=ne;if(r){let c;(c=i.get(u))?c.add(r):i.set(u,c=new Set([r])),St(()=>{c.delete(r),!c.size&&i.delete(u)})}return t(u,d.value)}}function fe(e){if(ne===null)return e();const t=ne;ne=null;try{return e()}finally{ne=t}}function cs(e){He(()=>fe(e))}function St(e){return ie===null||(ie.cleanups===null?ie.cleanups=[e]:ie.cleanups.push(e)),e}function ls(){return ne}function Mt(){return ie}function us(e,t){const n=ie,i=ne;ie=e,ne=null;try{return Pe(t,!0)}catch(d){Vt(d)}finally{ie=n,ne=i}}let hs;function En(){if(this.sources&&this.state)if(this.state===ve)De(this);else{const e=ge;ge=null,Pe(()=>pt(this),!1),ge=e}if(ne){const e=this.observers?this.observers.length:0;ne.sources?(ne.sources.push(this),ne.sourceSlots.push(e)):(ne.sources=[this],ne.sourceSlots=[e]),this.observers?(this.observers.push(ne),this.observerSlots.push(ne.sources.length-1)):(this.observers=[ne],this.observerSlots=[ne.sources.length-1])}return this.value}function Rn(e,t,n){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&Pe(()=>{for(let d=0;d<e.observers.length;d+=1){const u=e.observers[d],r=Ot&&Ot.running;r&&Ot.disposed.has(u),(r?!u.tState:!u.state)&&(u.pure?ge.push(u):Ae.push(u),u.observers&&Gn(u)),r||(u.state=ve)}if(ge.length>1e6)throw ge=[],new Error},!1)),t}function De(e){if(!e.fn)return;wt(e);const t=kt;gs(e,e.value,t)}function gs(e,t,n){let i;const d=ie,u=ne;ne=ie=e;try{i=e.fn(t)}catch(r){return e.pure&&(e.state=ve,e.owned&&e.owned.forEach(wt),e.owned=null),e.updatedAt=n+1,Vt(r)}finally{ne=u,ie=d}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Rn(e,i):e.value=i,e.updatedAt=n)}function Je(e,t,n,i=ve,d){const u={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:ie,context:ie?ie.context:null,pure:n};return ie===null||ie!==Nn&&(ie.owned?ie.owned.push(u):ie.owned=[u]),u}function dt(e){if(e.state===0)return;if(e.state===gt)return pt(e);if(e.suspense&&fe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<kt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===ve)De(e);else if(e.state===gt){const i=ge;ge=null,Pe(()=>pt(e,t[0]),!1),ge=i}}function Pe(e,t){if(ge)return e();let n=!1;t||(ge=[]),Ae?n=!0:Ae=[],kt++;try{const i=e();return ds(n),i}catch(i){n||(Ae=null),ge=null,Vt(i)}}function ds(e){if(ge&&($n(ge),ge=null),e)return;const t=Ae;Ae=null,t.length&&Pe(()=>Pn(t),!1)}function $n(e){for(let t=0;t<e.length;t++)dt(e[t])}function ps(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:dt(i)}for(t=0;t<n;t++)dt(e[t])}function pt(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];if(i.sources){const d=i.state;d===ve?i!==t&&(!i.updatedAt||i.updatedAt<kt)&&dt(i):d===gt&&pt(i,t)}}}function Gn(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=gt,n.pure?ge.push(n):Ae.push(n),n.observers&&Gn(n))}}function wt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),d=n.observers;if(d&&d.length){const u=d.pop(),r=n.observerSlots.pop();i<d.length&&(u.sourceSlots[r]=i,d[i]=u,n.observerSlots[i]=r)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)wt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Dt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Vt(e,t=ie){throw Dt(e)}const Bt=Symbol("fallback");function ft(e){for(let t=0;t<e.length;t++)e[t]()}function fs(e,t,n={}){let i=[],d=[],u=[],r=0,c=t.length>1?[]:null;return St(()=>ft(u)),()=>{let h=e()||[],l=h.length,v,k;return h[xn],fe(()=>{let A,O,T,L,S,w,C,y,b;if(l===0)r!==0&&(ft(u),u=[],i=[],d=[],r=0,c&&(c=[])),n.fallback&&(i=[Bt],d[0]=Me(p=>(u[0]=p,n.fallback())),r=1);else if(r===0){for(d=new Array(l),k=0;k<l;k++)i[k]=h[k],d[k]=Me(m);r=l}else{for(T=new Array(l),L=new Array(l),c&&(S=new Array(l)),w=0,C=Math.min(r,l);w<C&&i[w]===h[w];w++);for(C=r-1,y=l-1;C>=w&&y>=w&&i[C]===h[y];C--,y--)T[y]=d[C],L[y]=u[C],c&&(S[y]=c[C]);for(A=new Map,O=new Array(y+1),k=y;k>=w;k--)b=h[k],v=A.get(b),O[k]=v===void 0?-1:v,A.set(b,k);for(v=w;v<=C;v++)b=i[v],k=A.get(b),k!==void 0&&k!==-1?(T[k]=d[v],L[k]=u[v],c&&(S[k]=c[v]),k=O[k],A.set(b,k)):u[v]();for(k=w;k<l;k++)k in T?(d[k]=T[k],u[k]=L[k],c&&(c[k]=S[k],c[k](k))):d[k]=Me(m);d=d.slice(0,r=l),i=h.slice(0)}return d});function m(A){if(u[k]=A,c){const[O,T]=le(k);return c[k]=T,t(h[k],O)}return t(h[k])}}}function ms(e,t,n={}){let i=[],d=[],u=[],r=[],c=0,h;return St(()=>ft(u)),()=>{const l=e()||[],v=l.length;return l[xn],fe(()=>{if(v===0)return c!==0&&(ft(u),u=[],i=[],d=[],c=0,r=[]),n.fallback&&(i=[Bt],d[0]=Me(m=>(u[0]=m,n.fallback())),c=1),d;for(i[0]===Bt&&(u[0](),u=[],i=[],d=[],c=0),h=0;h<v;h++)h<i.length&&i[h]!==l[h]?r[h](()=>l[h]):h>=i.length&&(d[h]=Me(k));for(;h<i.length;h++)u[h]();return c=r.length=u.length=v,i=l.slice(0),d=d.slice(0,c)});function k(m){u[h]=m;const[A,O]=le(l[h]);return r[h]=O,t(A,h)}}}function Le(e,t){return fe(()=>e(t||{}))}function at(){return!0}const Ft={get(e,t,n){return t===Ye?n:e.get(t)},has(e,t){return t===Ye?!0:e.has(t)},set:at,deleteProperty:at,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:at,deleteProperty:at}},ownKeys(e){return e.keys()}};function xt(e){return(e=typeof e=="function"?e():e)?e:{}}function bs(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function ys(...e){let t=!1;for(let r=0;r<e.length;r++){const c=e[r];t=t||!!c&&Ye in c,e[r]=typeof c=="function"?(t=!0,ye(c)):c}if(t)return new Proxy({get(r){for(let c=e.length-1;c>=0;c--){const h=xt(e[c])[r];if(h!==void 0)return h}},has(r){for(let c=e.length-1;c>=0;c--)if(r in xt(e[c]))return!0;return!1},keys(){const r=[];for(let c=0;c<e.length;c++)r.push(...Object.keys(xt(e[c])));return[...new Set(r)]}},Ft);const n={},i=Object.create(null);for(let r=e.length-1;r>=0;r--){const c=e[r];if(!c)continue;const h=Object.getOwnPropertyNames(c);for(let l=h.length-1;l>=0;l--){const v=h[l];if(v==="__proto__"||v==="constructor")continue;const k=Object.getOwnPropertyDescriptor(c,v);if(!i[v])i[v]=k.get?{enumerable:!0,configurable:!0,get:bs.bind(n[v]=[k.get.bind(c)])}:k.value!==void 0?k:void 0;else{const m=n[v];m&&(k.get?m.push(k.get.bind(c)):k.value!==void 0&&m.push(()=>k.value))}}}const d={},u=Object.keys(i);for(let r=u.length-1;r>=0;r--){const c=u[r],h=i[c];h&&h.get?Object.defineProperty(d,c,h):d[c]=h?h.value:void 0}return d}function _s(e,...t){if(Ye in e){const d=new Set(t.length>1?t.flat():t[0]),u=t.map(r=>new Proxy({get(c){return r.includes(c)?e[c]:void 0},has(c){return r.includes(c)&&c in e},keys(){return r.filter(c=>c in e)}},Ft));return u.push(new Proxy({get(r){return d.has(r)?void 0:e[r]},has(r){return d.has(r)?!1:r in e},keys(){return Object.keys(e).filter(r=>!d.has(r))}},Ft)),u}const n={},i=t.map(()=>({}));for(const d of Object.getOwnPropertyNames(e)){const u=Object.getOwnPropertyDescriptor(e,d),r=!u.get&&!u.set&&u.enumerable&&u.writable&&u.configurable;let c=!1,h=0;for(const l of t)l.includes(d)&&(c=!0,r?i[h][d]=u.value:Object.defineProperty(i[h],d,u)),++h;c||(r?n[d]=u.value:Object.defineProperty(n,d,u))}return[...i,n]}const ks=e=>`Stale read from <${e}>.`;function Pt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ye(fs(()=>e.each,e.children,t||void 0))}function Ss(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ye(ms(()=>e.each,e.children,t||void 0))}function Mn(e){const t=e.keyed,n=ye(()=>e.when,void 0,{equals:(i,d)=>t?i===d:!i==!d});return ye(()=>{const i=n();if(i){const d=e.children;return typeof d=="function"&&d.length>0?fe(()=>d(t?i:()=>{if(!fe(n))throw ks("Show");return e.when})):d}return e.fallback},void 0,void 0)}const ws=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],vs=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...ws]),Ts=new Set(["innerHTML","textContent","innerText","children"]),As=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Cs=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Ls(e,t){const n=Cs[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Is=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]);function js(e,t,n){let i=n.length,d=t.length,u=i,r=0,c=0,h=t[d-1].nextSibling,l=null;for(;r<d||c<u;){if(t[r]===n[c]){r++,c++;continue}for(;t[d-1]===n[u-1];)d--,u--;if(d===r){const v=u<i?c?n[c-1].nextSibling:n[u-c]:h;for(;c<u;)e.insertBefore(n[c++],v)}else if(u===c)for(;r<d;)(!l||!l.has(t[r]))&&t[r].remove(),r++;else if(t[r]===n[u-1]&&n[c]===t[d-1]){const v=t[--d].nextSibling;e.insertBefore(n[c++],t[r++].nextSibling),e.insertBefore(n[--u],v),t[d]=n[u]}else{if(!l){l=new Map;let k=c;for(;k<u;)l.set(n[k],k++)}const v=l.get(t[r]);if(v!=null)if(c<v&&v<u){let k=r,m=1,A;for(;++k<d&&k<u&&!((A=l.get(t[k]))==null||A!==v+m);)m++;if(m>v-c){const O=t[r];for(;c<v;)e.insertBefore(n[c++],O)}else e.replaceChild(n[c++],t[r++])}else r++;else t[r++].remove()}}}const sn="_$DX_DELEGATE";function Dn(e,t,n,i={}){let d;return Me(u=>{d=u,t===document?e():we(t,e(),t.firstChild?null:void 0,n)},i.owner),()=>{d(),t.textContent=""}}function Ze(e,t,n){let i;const d=()=>{const r=document.createElement("template");return r.innerHTML=e,n?r.content.firstChild.firstChild:r.content.firstChild},u=t?()=>fe(()=>document.importNode(i||(i=d()),!0)):()=>(i||(i=d())).cloneNode(!0);return u.cloneNode=u,u}function Yt(e,t=window.document){const n=t[sn]||(t[sn]=new Set);for(let i=0,d=e.length;i<d;i++){const u=e[i];n.has(u)||(n.add(u),t.addEventListener(u,$s))}}function mt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function lt(e,t){t==null?e.removeAttribute("class"):e.className=t}function Os(e,t,n,i){if(i)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const d=n[0];e.addEventListener(t,n[0]=u=>d.call(e,n[1],u))}else e.addEventListener(t,n)}function xs(e,t,n={}){const i=Object.keys(t||{}),d=Object.keys(n);let u,r;for(u=0,r=d.length;u<r;u++){const c=d[u];!c||c==="undefined"||t[c]||(rn(e,c,!1),delete n[c])}for(u=0,r=i.length;u<r;u++){const c=i[u],h=!!t[c];!c||c==="undefined"||n[c]===h||!h||(rn(e,c,!0),n[c]=h)}return n}function Ps(e,t,n){if(!t)return n?mt(e,"style"):t;const i=e.style;if(typeof t=="string")return i.cssText=t;typeof n=="string"&&(i.cssText=n=void 0),n||(n={}),t||(t={});let d,u;for(u in n)t[u]==null&&i.removeProperty(u),delete n[u];for(u in t)d=t[u],d!==n[u]&&(i.setProperty(u,d),n[u]=d);return n}function Ns(e,t={},n,i){const d={};return de(()=>typeof t.ref=="function"&&Wt(t.ref,e)),de(()=>Es(e,t,n,!0,d,!0)),d}function Wt(e,t,n){return fe(()=>e(t,n))}function we(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return bt(e,t,i,n);de(d=>bt(e,t(),d,n),i)}function Es(e,t,n,i,d={},u=!1){t||(t={});for(const r in d)if(!(r in t)){if(r==="children")continue;d[r]=on(e,r,null,d[r],n,u)}for(const r in t){if(r==="children")continue;const c=t[r];d[r]=on(e,r,c,d[r],n,u)}}function Rs(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function rn(e,t,n){const i=t.trim().split(/\s+/);for(let d=0,u=i.length;d<u;d++)e.classList.toggle(i[d],n)}function on(e,t,n,i,d,u){let r,c,h,l,v;if(t==="style")return Ps(e,n,i);if(t==="classList")return xs(e,n,i);if(n===i)return i;if(t==="ref")u||n(e);else if(t.slice(0,3)==="on:"){const k=t.slice(3);i&&e.removeEventListener(k,i),n&&e.addEventListener(k,n)}else if(t.slice(0,10)==="oncapture:"){const k=t.slice(10);i&&e.removeEventListener(k,i,!0),n&&e.addEventListener(k,n,!0)}else if(t.slice(0,2)==="on"){const k=t.slice(2).toLowerCase(),m=Is.has(k);if(!m&&i){const A=Array.isArray(i)?i[0]:i;e.removeEventListener(k,A)}(m||n)&&(Os(e,k,n,m),m&&Yt([k]))}else t.slice(0,5)==="attr:"?mt(e,t.slice(5),n):(v=t.slice(0,5)==="prop:")||(h=Ts.has(t))||(l=Ls(t,e.tagName))||(c=vs.has(t))||(r=e.nodeName.includes("-"))?(v&&(t=t.slice(5),c=!0),t==="class"||t==="className"?lt(e,n):r&&!c&&!h?e[Rs(t)]=n:e[l||t]=n):mt(e,As[t]||t,n);return n}function $s(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const i=n[t];if(i&&!n.disabled){const d=n[`${t}Data`];if(d!==void 0?i.call(n,d,e):i.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function bt(e,t,n,i,d){for(;typeof n=="function";)n=n();if(t===n)return n;const u=typeof t,r=i!==void 0;if(e=r&&n[0]&&n[0].parentNode||e,u==="string"||u==="number"){if(u==="number"&&(t=t.toString(),t===n))return n;if(r){let c=n[0];c&&c.nodeType===3?c.data!==t&&(c.data=t):c=document.createTextNode(t),n=Ue(e,n,i,c)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||u==="boolean")n=Ue(e,n,i);else{if(u==="function")return de(()=>{let c=t();for(;typeof c=="function";)c=c();n=bt(e,c,n,i)}),()=>n;if(Array.isArray(t)){const c=[],h=n&&Array.isArray(n);if(Ut(c,t,n,d))return de(()=>n=bt(e,c,n,i,!0)),()=>n;if(c.length===0){if(n=Ue(e,n,i),r)return n}else h?n.length===0?an(e,c,i):js(e,n,c):(n&&Ue(e),an(e,c));n=c}else if(t.nodeType){if(Array.isArray(n)){if(r)return n=Ue(e,n,i,t);Ue(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ut(e,t,n,i){let d=!1;for(let u=0,r=t.length;u<r;u++){let c=t[u],h=n&&n[e.length],l;if(!(c==null||c===!0||c===!1))if((l=typeof c)=="object"&&c.nodeType)e.push(c);else if(Array.isArray(c))d=Ut(e,c,h)||d;else if(l==="function")if(i){for(;typeof c=="function";)c=c();d=Ut(e,Array.isArray(c)?c:[c],Array.isArray(h)?h:[h])||d}else e.push(c),d=!0;else{const v=String(c);h&&h.nodeType===3&&h.data===v?e.push(h):e.push(document.createTextNode(v))}}return d}function an(e,t,n=null){for(let i=0,d=t.length;i<d;i++)e.insertBefore(t[i],n)}function Ue(e,t,n,i){if(n===void 0)return e.textContent="";const d=i||document.createTextNode("");if(t.length){let u=!1;for(let r=t.length-1;r>=0;r--){const c=t[r];if(d!==c){const h=c.parentNode===e;!u&&!r?h?e.replaceChild(d,c):e.insertBefore(d,n):h&&c.remove()}else u=!0}}else e.insertBefore(d,n);return[d]}const Gs=`import self from '.?raw'
import { createEffect, createSignal, For, Show, type Component } from 'solid-js'
import { render } from 'solid-js/web'
import { TmTextarea } from 'solid-tm-textarea'
import 'solid-tm-textarea/custom-element'
import { Grammar, GRAMMARS, Theme, THEMES } from 'solid-tm-textarea/tm'
import './index.css'

const sources = {
  large: Array.from({ length: 10 })
    .map(() => self)
    .join('\\n'),
  small: \`const sum = (a: number, b: number) => a + b\`,
}
type Source = keyof typeof sources

const App: Component = () => {
  // Config
  const [mode, setMode] = createSignal<'custom-element' | 'solid'>('solid')

  const [theme, setCurrentThemeName] = createSignal<Theme>('light-plus')
  const [grammar, setCurrentLanguageName] = createSignal<Grammar>('source.tsx')

  const [fontSize, setFontSize] = createSignal(10)
  const [padding, setPadding] = createSignal(5)
  const [sourceType, setSourceType] = createSignal<Source>('large')
  const [editable, setEditable] = createSignal(true)

  const [value, setValue] = createSignal(sources[sourceType()])

  createEffect(() => setValue(sources[sourceType()]))

  return (
    <div class="app">
      <div class="side-panel">
        <h1>Solid Textmate Textarea</h1>
        <footer>
          <div>
            <label for="mode">mode</label>
            <button
              id="mode"
              onClick={() =>
                setMode(type => (type === 'custom-element' ? 'solid' : 'custom-element'))
              }
            >
              {mode()}
            </button>
          </div>
          <br />
          <div>
            <label for="theme">themes</label>
            <select
              id="theme"
              value={theme()}
              onInput={e => setCurrentThemeName(e.currentTarget.value as Theme)}
            >
              <For each={Object.keys(THEMES)}>{theme => <option>{theme}</option>}</For>
            </select>
          </div>
          <div>
            <label for="lang">languages</label>
            <select
              id="lang"
              value={grammar()}
              onInput={e => setCurrentLanguageName(e.currentTarget.value as Grammar)}
            >
              <For each={Object.keys(GRAMMARS)}>{language => <option>{language}</option>}</For>
            </select>
          </div>
          <br />
          <div>
            <label for="source">source</label>
            <select
              id="source"
              value={sourceType()}
              onInput={e => setSourceType(e.currentTarget.value as Source)}
            >
              <For each={Object.keys(sources)}>{source => <option>{source}</option>}</For>
            </select>
          </div>
          <div>
            <label for="padding">padding</label>
            <input
              id="padding"
              type="number"
              onInput={e => setPadding(+e.currentTarget.value)}
              value={padding()}
            />
          </div>
          <div>
            <label for="font-size">font-size</label>
            <input
              id="font-size"
              type="number"
              onInput={e => setFontSize(+e.currentTarget.value)}
              value={fontSize()}
            />
          </div>
          <div>
            <label for="editable">editable</label>
            <button
              id="editable"
              onClick={e => {
                setEditable(editable => !editable)
              }}
            >
              {editable() ? 'enabled' : 'disabled'}
            </button>
          </div>
        </footer>
      </div>
      <main>
        <div style={{ resize: 'both', height: '100px', width: '100px', overflow: 'hidden' }}>
          <Show
            when={mode() === 'solid'}
            fallback={
              <tm-textarea
                line-height={16}
                editable={editable()}
                value={value()}
                grammar={grammar()}
                theme={theme()}
                style={{
                  padding: \`\${padding()}px\`,
                  'box-sizing': 'border-box',
                  resize: 'both',
                  width: '100%',
                  height: '100%',
                }}
                onInput={e => setValue(e.currentTarget.value)}
              />
            }
          >
            <TmTextarea
              lineHeight={16}
              editable={editable()}
              value={value()}
              grammar={grammar()}
              theme={theme()}
              style={{
                padding: \`\${padding()}px\`,
                'box-sizing': 'border-box',
                resize: 'both',
                width: '100%',
                height: '100%',
              }}
              onInput={e => setValue(e.currentTarget.value)}
            />
          </Show>
        </div>
      </main>
    </div>
  )
}

export default App

render(() => <App />, document.getElementById('root')!)
`;function Bn(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var d=e.length;for(t=0;t<d;t++)e[t]&&(n=Bn(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Ms(){for(var e,t,n=0,i="",d=arguments.length;n<d;n++)(e=arguments[n])&&(t=Bn(e))&&(i&&(i+=" "),i+=t);return i}const Qt="transparent",Qe="highlighter",et=`
`,Fn=e=>{if(e.length===3||e.length===4){const t=parseInt(`${e[0]}${e[0]}`,16),n=parseInt(`${e[1]}${e[1]}`,16),i=parseInt(`${e[2]}${e[2]}`,16);return{r:t,g:n,b:i}}else if(e.length===6||e.length===8){const t=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),i=parseInt(e.slice(4,6),16);return{r:t,g:n,b:i}}else return},Ds=(e,t)=>{const n=Fn(t.slice(1));return n?`\x1B[38;2;${n.r};${n.g};${n.b}m${e}\x1B[39m`:e},Bs=(e,t)=>{const n=Fn(t.slice(1));return n?`\x1B[48;2;${n.r};${n.g};${n.b}m${e}\x1B[49m`:e},Fs=e=>`\x1B[3m${e}\x1B[0m`,Ws=e=>`\x1B[1m${e}\x1B[0m`,Us=e=>`\x1B[4m${e}\x1B[0m`,zs=(e,t)=>(t.color&&(e=Ds(e,t.color)),t.backgroundColor&&(e=Bs(e,t.backgroundColor)),t.fontStyle==="italic"&&(e=Fs(e)),t.fontWeight==="bold"&&(e=Ws(e)),t.textDecoration==="underline"&&(e=Us(e)),e),Hs=e=>{let t="";for(let n=0,i=e.length;n<i;n++){const d=e[n];for(let u=0,r=d.length;u<r;u++){const c=d[u];t+=zs(c.value,c)}n<i-1&&(t+=et)}return t},qs=(e,t)=>{const n=document.createElement("pre");n.classList.add(Qe),n.style.backgroundColor=t?.backgroundColor||Qt;for(let i=0,d=e.length;i<d;i++){const u=e[i];for(let r=0,c=u.length;r<c;r++){const h=u[r];if(!h.value)continue;const l=document.createElement("span");l.innerText=h.value,h.color&&(l.style.color=h.color),h.backgroundColor&&(l.style.backgroundColor=h.backgroundColor),h.fontStyle&&(l.style.fontStyle=h.fontStyle),h.fontWeight&&(l.style.fontWeight=h.fontWeight),h.textDecoration&&(l.style.textDecoration=h.textDecoration),n.appendChild(l)}i<d-1&&n.appendChild(document.createTextNode(et))}return n},Xs=/([a-z])([A-Z]+)(?=([a-z])?)|([.:/_-])/g,Ks=e=>e.replace(Xs,(t,n,i,d,u)=>u?" ":d&&i.length>1?`${n} ${i.slice(0,-1)} ${i.slice(-1)}`:`${n} ${i}`).toLowerCase().trim(),Vs=e=>Ks(e).replaceAll(" ","-"),Ys=(()=>{const e=/[&<>"]/g,t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n=d=>t[d];return d=>d.replace(e,n)})(),cn=e=>{const t=new Map;return(...n)=>{const i=n[0],d=t.get(i);if(d!==void 0||t.has(i))return d;const u=e.apply(void 0,n);return t.set(i,u),u}},Qs=globalThis.Highlight||Set,Js=globalThis.CSS?.highlights||new Map,Zs=!!globalThis.CSS?.highlights,zt={getStyle:cn(()=>{const e=document.createElement("style");return e.setAttribute("type","text/css"),e.setAttribute(`data-${Qe}`,""),document.head.append(e),e}),getHighlights:(()=>{let e=0;return cn((t,n)=>{const i=new Qs,d=`${Qe}-${e++}`;Js.set(d,i);const u=zt.getStyle(),r=`::highlight(${d}){${Object.entries(n).filter(([c,h])=>!!h).map(([c,h])=>`${Vs(c)}:${h};`).join("")}}`;return u.innerText+=r,i})})(),isSupported:()=>Zs},er=e=>{let t="";for(let n=0,i=e.length;n<i;n++){const d=e[n];for(let u=0,r=d.length;u<r;u++)t+=d[u].value;n<i-1&&(t+=et)}return t},tr=(e,t)=>{const n=document.createElement("pre");n.classList.add(Qe),n.style.backgroundColor=t?.backgroundColor||Qt;const i=er(e),d=document.createTextNode(i);if(n.appendChild(d),!zt.isSupported())return[n,()=>{}];const u=[],r=()=>u.forEach(c=>c());for(let c=0,h=0,l=e.length;h<l;h++){const v=e[h];for(let k=0,m=v.length;k<m;k++){const A=v[k],{color:O,backgroundColor:T,fontStyle:L,fontWeight:S,textDecoration:w}=A,C=`${O}-${T}-${L}-${S}-${w}`,y=zt.getHighlights(C,{color:O,backgroundColor:T,fontStyle:L,fontWeight:S,textDecoration:w}),b=new Range;b.setStart(d,c),b.setEnd(d,c+A.value.length),y.add(b),u.push(()=>y.delete(b)),c+=A.value.length}h<l-1&&(c+=et.length)}return[n,r]},nr=(e,t)=>{const n=`background-color:${t?.backgroundColor||Qt}`;let i=`<pre class="${Qe}" style="${n}">`;for(let d=0,u=e.length;d<u;d++){const r=e[d];for(let c=0,h=r.length;c<h;c++){const l=r[c];if(!l.value)continue;const v=l.color?`color:${l.color}`:"",k=l.backgroundColor?`;background-color:${l.backgroundColor}`:"",m=l.fontStyle?`;font-style:${l.fontStyle}`:"",A=l.fontWeight?`;font-weight:${l.fontWeight}`:"",O=l.textDecoration?`;text-decoration:${l.textDecoration}`:"",T=Ys(l.value);i+=`<span style="${v}${k}${m}${A}${O}">${T}</span>`}d<u-1&&(i+=et)}return i+="</pre>",i};var Wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Un(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zn={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Wn,()=>{return n={770:function(d,u,r){var c=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(u,"__esModule",{value:!0}),u.setDefaultDebugCall=u.createOnigScanner=u.createOnigString=u.loadWASM=u.OnigScanner=u.OnigString=void 0;const h=c(r(418));let l=null,v=!1;class k{static _utf8ByteLength(S){let w=0;for(let C=0,y=S.length;C<y;C++){const b=S.charCodeAt(C);let p=b,s=!1;if(b>=55296&&b<=56319&&C+1<y){const a=S.charCodeAt(C+1);a>=56320&&a<=57343&&(p=65536+(b-55296<<10)|a-56320,s=!0)}w+=p<=127?1:p<=2047?2:p<=65535?3:4,s&&C++}return w}constructor(S){const w=S.length,C=k._utf8ByteLength(S),y=C!==w,b=y?new Uint32Array(w+1):null;y&&(b[w]=C);const p=y?new Uint32Array(C+1):null;y&&(p[C]=w);const s=new Uint8Array(C);let a=0;for(let f=0;f<w;f++){const o=S.charCodeAt(f);let g=o,_=!1;if(o>=55296&&o<=56319&&f+1<w){const j=S.charCodeAt(f+1);j>=56320&&j<=57343&&(g=65536+(o-55296<<10)|j-56320,_=!0)}y&&(b[f]=a,_&&(b[f+1]=a),g<=127?p[a+0]=f:g<=2047?(p[a+0]=f,p[a+1]=f):g<=65535?(p[a+0]=f,p[a+1]=f,p[a+2]=f):(p[a+0]=f,p[a+1]=f,p[a+2]=f,p[a+3]=f)),g<=127?s[a++]=g:g<=2047?(s[a++]=192|(1984&g)>>>6,s[a++]=128|(63&g)>>>0):g<=65535?(s[a++]=224|(61440&g)>>>12,s[a++]=128|(4032&g)>>>6,s[a++]=128|(63&g)>>>0):(s[a++]=240|(1835008&g)>>>18,s[a++]=128|(258048&g)>>>12,s[a++]=128|(4032&g)>>>6,s[a++]=128|(63&g)>>>0),_&&f++}this.utf16Length=w,this.utf8Length=C,this.utf16Value=S,this.utf8Value=s,this.utf16OffsetToUtf8=b,this.utf8OffsetToUtf16=p}createString(S){const w=S._omalloc(this.utf8Length);return S.HEAPU8.set(this.utf8Value,w),w}}class m{constructor(S){if(this.id=++m.LAST_ID,!l)throw new Error("Must invoke loadWASM first.");this._onigBinding=l,this.content=S;const w=new k(S);this.utf16Length=w.utf16Length,this.utf8Length=w.utf8Length,this.utf16OffsetToUtf8=w.utf16OffsetToUtf8,this.utf8OffsetToUtf16=w.utf8OffsetToUtf16,this.utf8Length<1e4&&!m._sharedPtrInUse?(m._sharedPtr||(m._sharedPtr=l._omalloc(1e4)),m._sharedPtrInUse=!0,l.HEAPU8.set(w.utf8Value,m._sharedPtr),this.ptr=m._sharedPtr):this.ptr=w.createString(l)}convertUtf8OffsetToUtf16(S){return this.utf8OffsetToUtf16?S<0?0:S>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[S]:S}convertUtf16OffsetToUtf8(S){return this.utf16OffsetToUtf8?S<0?0:S>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[S]:S}dispose(){this.ptr===m._sharedPtr?m._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}u.OnigString=m,m.LAST_ID=0,m._sharedPtr=0,m._sharedPtrInUse=!1;class A{constructor(S,w){var C,y;if(!l)throw new Error("Must invoke loadWASM first.");const b=[],p=[];for(let _=0,j=S.length;_<j;_++){const x=new k(S[_]);b[_]=x.createString(l),p[_]=x.utf8Length}const s=l._omalloc(4*S.length);l.HEAPU32.set(b,s/4);const a=l._omalloc(4*S.length);l.HEAPU32.set(p,a/4),this._onigBinding=l,this._options=(C=w?.options)!==null&&C!==void 0?C:[10];const f=this.onigOptions(this._options),o=this.onigSyntax((y=w?.syntax)!==null&&y!==void 0?y:0),g=l._createOnigScanner(s,a,S.length,f,o);this._ptr=g;for(let _=0,j=S.length;_<j;_++)l._ofree(b[_]);l._ofree(a),l._ofree(s),g===0&&function(_){throw new Error(_.UTF8ToString(_._getLastOnigError()))}(l)}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(S,w,C){let y=v,b=this._options;if(Array.isArray(C)?(C.includes(25)&&(y=!0),b=b.concat(C)):typeof C=="boolean"&&(y=C),typeof S=="string"){S=new m(S);const p=this._findNextMatchSync(S,w,y,b);return S.dispose(),p}return this._findNextMatchSync(S,w,y,b)}_findNextMatchSync(S,w,C,y){const b=this._onigBinding,p=this.onigOptions(y);let s;if(s=C?b._findNextOnigScannerMatchDbg(this._ptr,S.id,S.ptr,S.utf8Length,S.convertUtf16OffsetToUtf8(w),p):b._findNextOnigScannerMatch(this._ptr,S.id,S.ptr,S.utf8Length,S.convertUtf16OffsetToUtf8(w),p),s===0)return null;const a=b.HEAPU32;let f=s/4;const o=a[f++],g=a[f++];let _=[];for(let j=0;j<g;j++){const x=S.convertUtf8OffsetToUtf16(a[f++]),G=S.convertUtf8OffsetToUtf16(a[f++]);_[j]={start:x,end:G,length:G-x}}return{index:o,captureIndices:_}}onigOptions(S){return S.map(w=>this.onigOption(w)).reduce((w,C)=>w|C,this._onigBinding.ONIG_OPTION_NONE)}onigSyntax(S){switch(S){case 0:return this._onigBinding.ONIG_SYNTAX_DEFAULT;case 1:return this._onigBinding.ONIG_SYNTAX_ASIS;case 2:return this._onigBinding.ONIG_SYNTAX_POSIX_BASIC;case 3:return this._onigBinding.ONIG_SYNTAX_POSIX_EXTENDED;case 4:return this._onigBinding.ONIG_SYNTAX_EMACS;case 5:return this._onigBinding.ONIG_SYNTAX_GREP;case 6:return this._onigBinding.ONIG_SYNTAX_GNU_REGEX;case 7:return this._onigBinding.ONIG_SYNTAX_JAVA;case 8:return this._onigBinding.ONIG_SYNTAX_PERL;case 9:return this._onigBinding.ONIG_SYNTAX_PERL_NG;case 10:return this._onigBinding.ONIG_SYNTAX_RUBY;case 11:return this._onigBinding.ONIG_SYNTAX_PYTHON;case 12:return this._onigBinding.ONIG_SYNTAX_ONIGURUMA}}onigOption(S){switch(S){case 1:return this._onigBinding.ONIG_OPTION_NONE;case 0:case 25:return this._onigBinding.ONIG_OPTION_DEFAULT;case 2:return this._onigBinding.ONIG_OPTION_IGNORECASE;case 3:return this._onigBinding.ONIG_OPTION_EXTEND;case 4:return this._onigBinding.ONIG_OPTION_MULTILINE;case 5:return this._onigBinding.ONIG_OPTION_SINGLELINE;case 6:return this._onigBinding.ONIG_OPTION_FIND_LONGEST;case 7:return this._onigBinding.ONIG_OPTION_FIND_NOT_EMPTY;case 8:return this._onigBinding.ONIG_OPTION_NEGATE_SINGLELINE;case 9:return this._onigBinding.ONIG_OPTION_DONT_CAPTURE_GROUP;case 10:return this._onigBinding.ONIG_OPTION_CAPTURE_GROUP;case 11:return this._onigBinding.ONIG_OPTION_NOTBOL;case 12:return this._onigBinding.ONIG_OPTION_NOTEOL;case 13:return this._onigBinding.ONIG_OPTION_CHECK_VALIDITY_OF_STRING;case 14:return this._onigBinding.ONIG_OPTION_IGNORECASE_IS_ASCII;case 15:return this._onigBinding.ONIG_OPTION_WORD_IS_ASCII;case 16:return this._onigBinding.ONIG_OPTION_DIGIT_IS_ASCII;case 17:return this._onigBinding.ONIG_OPTION_SPACE_IS_ASCII;case 18:return this._onigBinding.ONIG_OPTION_POSIX_IS_ASCII;case 19:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_EXTENDED_GRAPHEME_CLUSTER;case 20:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_WORD;case 21:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_STRING;case 22:return this._onigBinding.ONIG_OPTION_NOT_END_STRING;case 23:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_POSITION;case 24:return this._onigBinding.ONIG_OPTION_CALLBACK_EACH_MATCH}}}u.OnigScanner=A;let O=!1,T=null;u.loadWASM=function(L){if(O)return T;let S,w,C,y;if(O=!0,function(b){return typeof b.instantiator=="function"}(L))S=L.instantiator,w=L.print;else{let b;(function(p){return p.data!==void 0})(L)?(b=L.data,w=L.print):b=L,S=function(p){return typeof Response<"u"&&p instanceof Response}(b)?typeof WebAssembly.instantiateStreaming=="function"?function(p){return s=>WebAssembly.instantiateStreaming(p,s)}(b):function(p){return async s=>{const a=await p.arrayBuffer();return WebAssembly.instantiate(a,s)}}(b):function(p){return s=>WebAssembly.instantiate(p,s)}(b)}return T=new Promise((b,p)=>{C=b,y=p}),function(b,p,s,a){(0,h.default)({print:p,instantiateWasm:(f,o)=>{if(typeof performance>"u"){const g=()=>Date.now();f.env.emscripten_get_now=g,f.wasi_snapshot_preview1.emscripten_get_now=g}return b(f).then(g=>o(g.instance),a),{}}}).then(f=>{l=f,s()})}(S,w,C,y),T},u.createOnigString=function(L){return new m(L)},u.createOnigScanner=function(L){return new A(L)},u.setDefaultDebugCall=function(L){v=L}},418:d=>{var u=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(r={}){var c,h,l=r;l.ready=new Promise((I,P)=>{c=I,h=P});var v,k=Object.assign({},l);typeof read<"u"&&read,v=I=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(I));let P=read(I,"binary");return typeof P=="object"||G($),P;var $},typeof clearTimeout>"u"&&(globalThis.clearTimeout=I=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=I=>typeof I=="function"?I():G()),typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var m,A,O=l.print||console.log.bind(console),T=l.printErr||console.error.bind(console);Object.assign(l,k),k=null,l.arguments&&l.arguments,l.thisProgram&&l.thisProgram,l.quit&&l.quit,l.wasmBinary&&(m=l.wasmBinary),l.noExitRuntime,typeof WebAssembly!="object"&&G("no native wasm support detected");var L,S,w,C,y,b,p,s,a=!1;function f(){var I=A.buffer;l.HEAP8=L=new Int8Array(I),l.HEAP16=w=new Int16Array(I),l.HEAPU8=S=new Uint8Array(I),l.HEAPU16=C=new Uint16Array(I),l.HEAP32=y=new Int32Array(I),l.HEAPU32=b=new Uint32Array(I),l.HEAPF32=p=new Float32Array(I),l.HEAPF64=s=new Float64Array(I)}var o=[],g=[],_=[],j=0,x=null;function G(I){l.onAbort&&l.onAbort(I),T(I="Aborted("+I+")"),a=!0,I+=". Build with -sASSERTIONS for more info.";var P=new WebAssembly.RuntimeError(I);throw h(P),P}var E,B;function H(I){return I.startsWith("data:application/octet-stream;base64,")}function X(I){if(I==E&&m)return new Uint8Array(m);if(v)return v(I);throw"both async and sync fetching of the wasm failed"}function q(I,P,$){return function(R){return Promise.resolve().then(()=>X(R))}(I).then(R=>WebAssembly.instantiate(R,P)).then(R=>R).then($,R=>{T(`failed to asynchronously prepare wasm: ${R}`),G(R)})}H(E="onig.wasm")||(B=E,E=l.locateFile?l.locateFile(B,""):""+B);var ee=I=>{for(;I.length>0;)I.shift()(l)},re=void 0,J=I=>{for(var P="",$=I;S[$];)P+=re[S[$++]];return P},Y={},Q={},Z={},pe=void 0,N=I=>{throw new pe(I)},D=void 0,U=(I,P,$)=>{function R(K){var z=$(K);z.length!==I.length&&(ce=>{throw new D(ce)})("Mismatched type converter count");for(var V=0;V<I.length;++V)oe(I[V],z[V])}I.forEach(function(K){Z[K]=P});var M=new Array(P.length),F=[],W=0;P.forEach((K,z)=>{Q.hasOwnProperty(K)?M[z]=Q[K]:(F.push(K),Y.hasOwnProperty(K)||(Y[K]=[]),Y[K].push(()=>{M[z]=Q[K],++W===F.length&&R(M)}))}),F.length===0&&R(M)};function oe(I,P,$={}){if(!("argPackAdvance"in P))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(R,M,F={}){var W=M.name;if(R||N(`type "${W}" must have a positive integer typeid pointer`),Q.hasOwnProperty(R)){if(F.ignoreDuplicateRegistrations)return;N(`Cannot register type '${W}' twice`)}if(Q[R]=M,delete Z[R],Y.hasOwnProperty(R)){var K=Y[R];delete Y[R],K.forEach(z=>z())}}(I,P,$)}function _e(){this.allocated=[void 0],this.freelist=[]}var ue=new _e,ke=()=>{for(var I=0,P=ue.reserved;P<ue.allocated.length;++P)ue.allocated[P]!==void 0&&++I;return I},Ie=I=>(I||N("Cannot use deleted val. handle = "+I),ue.get(I).value),Be=I=>{switch(I){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ue.allocate({refcount:1,value:I})}};function je(I){return this.fromWireType(y[I>>2])}var Ne=(I,P)=>{switch(P){case 4:return function($){return this.fromWireType(p[$>>2])};case 8:return function($){return this.fromWireType(s[$>>3])};default:throw new TypeError(`invalid float width (${P}): ${I}`)}},Ee=(I,P,$)=>{switch(P){case 1:return $?R=>L[R>>0]:R=>S[R>>0];case 2:return $?R=>w[R>>1]:R=>C[R>>1];case 4:return $?R=>y[R>>2]:R=>b[R>>2];default:throw new TypeError(`invalid integer width (${P}): ${I}`)}};function Oe(I){return this.fromWireType(b[I>>2])}var be,Re=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Fe=(I,P,$)=>{for(var R=P+$,M=P;I[M]&&!(M>=R);)++M;if(M-P>16&&I.buffer&&Re)return Re.decode(I.subarray(P,M));for(var F="";P<M;){var W=I[P++];if(128&W){var K=63&I[P++];if((224&W)!=192){var z=63&I[P++];if((W=(240&W)==224?(15&W)<<12|K<<6|z:(7&W)<<18|K<<12|z<<6|63&I[P++])<65536)F+=String.fromCharCode(W);else{var V=W-65536;F+=String.fromCharCode(55296|V>>10,56320|1023&V)}}else F+=String.fromCharCode((31&W)<<6|K)}else F+=String.fromCharCode(W)}return F},tt=(I,P)=>I?Fe(S,I,P):"",$e=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,At=(I,P)=>{for(var $=I,R=$>>1,M=R+P/2;!(R>=M)&&C[R];)++R;if(($=R<<1)-I>32&&$e)return $e.decode(S.subarray(I,$));for(var F="",W=0;!(W>=P/2);++W){var K=w[I+2*W>>1];if(K==0)break;F+=String.fromCharCode(K)}return F},nt=(I,P,$)=>{if($===void 0&&($=2147483647),$<2)return 0;for(var R=P,M=($-=2)<2*I.length?$/2:I.length,F=0;F<M;++F){var W=I.charCodeAt(F);w[P>>1]=W,P+=2}return w[P>>1]=0,P-R},Ct=I=>2*I.length,We=(I,P)=>{for(var $=0,R="";!($>=P/4);){var M=y[I+4*$>>2];if(M==0)break;if(++$,M>=65536){var F=M-65536;R+=String.fromCharCode(55296|F>>10,56320|1023&F)}else R+=String.fromCharCode(M)}return R},st=(I,P,$)=>{if($===void 0&&($=2147483647),$<4)return 0;for(var R=P,M=R+$-4,F=0;F<I.length;++F){var W=I.charCodeAt(F);if(W>=55296&&W<=57343&&(W=65536+((1023&W)<<10)|1023&I.charCodeAt(++F)),y[P>>2]=W,(P+=4)+4>M)break}return y[P>>2]=0,P-R},ts=I=>{for(var P=0,$=0;$<I.length;++$){var R=I.charCodeAt($);R>=55296&&R<=57343&&++$,P+=4}return P};be=()=>performance.now();var ns=I=>{var P=(I-A.buffer.byteLength+65535)/65536;try{return A.grow(P),f(),1}catch{}},ss=[null,[],[]];(()=>{for(var I=new Array(256),P=0;P<256;++P)I[P]=String.fromCharCode(P);re=I})(),pe=l.BindingError=class extends Error{constructor(I){super(I),this.name="BindingError"}},D=l.InternalError=class extends Error{constructor(I){super(I),this.name="InternalError"}},Object.assign(_e.prototype,{get(I){return this.allocated[I]},has(I){return this.allocated[I]!==void 0},allocate(I){var P=this.freelist.pop()||this.allocated.length;return this.allocated[P]=I,P},free(I){this.allocated[I]=void 0,this.freelist.push(I)}}),ue.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),ue.reserved=ue.allocated.length,l.count_emval_handles=ke;var rt,en={_embind_register_bigint:(I,P,$,R,M)=>{},_embind_register_bool:(I,P,$,R)=>{oe(I,{name:P=J(P),fromWireType:function(M){return!!M},toWireType:function(M,F){return F?$:R},argPackAdvance:8,readValueFromPointer:function(M){return this.fromWireType(S[M])},destructorFunction:null})},_embind_register_constant:(I,P,$)=>{I=J(I),U([],[P],function(R){return R=R[0],l[I]=R.fromWireType($),[]})},_embind_register_emval:(I,P)=>{oe(I,{name:P=J(P),fromWireType:$=>{var R=Ie($);return(M=>{M>=ue.reserved&&--ue.get(M).refcount==0&&ue.free(M)})($),R},toWireType:($,R)=>Be(R),argPackAdvance:8,readValueFromPointer:je,destructorFunction:null})},_embind_register_float:(I,P,$)=>{oe(I,{name:P=J(P),fromWireType:R=>R,toWireType:(R,M)=>M,argPackAdvance:8,readValueFromPointer:Ne(P,$),destructorFunction:null})},_embind_register_integer:(I,P,$,R,M)=>{P=J(P);var F=z=>z;if(R===0){var W=32-8*$;F=z=>z<<W>>>W}var K=P.includes("unsigned");oe(I,{name:P,fromWireType:F,toWireType:K?function(z,V){return this.name,V>>>0}:function(z,V){return this.name,V},argPackAdvance:8,readValueFromPointer:Ee(P,$,R!==0),destructorFunction:null})},_embind_register_memory_view:(I,P,$)=>{var R=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][P];function M(F){var W=b[F>>2],K=b[F+4>>2];return new R(L.buffer,K,W)}oe(I,{name:$=J($),fromWireType:M,argPackAdvance:8,readValueFromPointer:M},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:(I,P)=>{var $=(P=J(P))==="std::string";oe(I,{name:P,fromWireType:R=>{var M,F=b[R>>2],W=R+4;if($)for(var K=W,z=0;z<=F;++z){var V=W+z;if(z==F||S[V]==0){var ce=tt(K,V-K);M===void 0?M=ce:(M+="\0",M+=ce),K=V+1}}else{var se=new Array(F);for(z=0;z<F;++z)se[z]=String.fromCharCode(S[W+z]);M=se.join("")}return xe(R),M},toWireType:(R,M)=>{var F;M instanceof ArrayBuffer&&(M=new Uint8Array(M));var W=typeof M=="string";W||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int8Array||N("Cannot pass non-string to std::string"),F=$&&W?(se=>{for(var ae=0,te=0;te<se.length;++te){var Se=se.charCodeAt(te);Se<=127?ae++:Se<=2047?ae+=2:Se>=55296&&Se<=57343?(ae+=4,++te):ae+=3}return ae})(M):M.length;var K=Lt(4+F+1),z=K+4;if(b[K>>2]=F,$&&W)((se,ae,te,Se)=>{if(!(Se>0))return 0;for(var It=te,it=te+Se-1,ot=0;ot<se.length;++ot){var he=se.charCodeAt(ot);if(he>=55296&&he<=57343&&(he=65536+((1023&he)<<10)|1023&se.charCodeAt(++ot)),he<=127){if(te>=it)break;ae[te++]=he}else if(he<=2047){if(te+1>=it)break;ae[te++]=192|he>>6,ae[te++]=128|63&he}else if(he<=65535){if(te+2>=it)break;ae[te++]=224|he>>12,ae[te++]=128|he>>6&63,ae[te++]=128|63&he}else{if(te+3>=it)break;ae[te++]=240|he>>18,ae[te++]=128|he>>12&63,ae[te++]=128|he>>6&63,ae[te++]=128|63&he}}ae[te]=0})(M,S,z,F+1);else if(W)for(var V=0;V<F;++V){var ce=M.charCodeAt(V);ce>255&&(xe(z),N("String has UTF-16 code units that do not fit in 8 bits")),S[z+V]=ce}else for(V=0;V<F;++V)S[z+V]=M[V];return R!==null&&R.push(xe,K),K},argPackAdvance:8,readValueFromPointer:Oe,destructorFunction:R=>xe(R)})},_embind_register_std_wstring:(I,P,$)=>{var R,M,F,W,K;$=J($),P===2?(R=At,M=nt,W=Ct,F=()=>C,K=1):P===4&&(R=We,M=st,W=ts,F=()=>b,K=2),oe(I,{name:$,fromWireType:z=>{for(var V,ce=b[z>>2],se=F(),ae=z+4,te=0;te<=ce;++te){var Se=z+4+te*P;if(te==ce||se[Se>>K]==0){var It=R(ae,Se-ae);V===void 0?V=It:(V+="\0",V+=It),ae=Se+P}}return xe(z),V},toWireType:(z,V)=>{typeof V!="string"&&N(`Cannot pass non-string to C++ string type ${$}`);var ce=W(V),se=Lt(4+ce+P);return b[se>>2]=ce>>K,M(V,se+4,ce+P),z!==null&&z.push(xe,se),se},argPackAdvance:8,readValueFromPointer:je,destructorFunction:z=>xe(z)})},_embind_register_void:(I,P)=>{oe(I,{isVoid:!0,name:P=J(P),argPackAdvance:0,fromWireType:()=>{},toWireType:($,R)=>{}})},emscripten_get_now:be,emscripten_memcpy_big:(I,P,$)=>S.copyWithin(I,P,P+$),emscripten_resize_heap:I=>{var P=S.length,$=2147483648;if((I>>>=0)>$)return!1;for(var R,M=1;M<=4;M*=2){var F=P*(1+.2/M);F=Math.min(F,I+100663296);var W=Math.min($,(R=Math.max(I,F))+(65536-R%65536)%65536);if(ns(W))return!0}return!1},fd_write:(I,P,$,R)=>{for(var M=0,F=0;F<$;F++){var W=b[P>>2],K=b[P+4>>2];P+=8;for(var z=0;z<K;z++)V=I,ce=S[W+z],se=void 0,se=ss[V],ce===0||ce===10?((V===1?O:T)(Fe(se,0)),se.length=0):se.push(ce);M+=K}var V,ce,se;return b[R>>2]=M,0}},me=function(){var I,P,$,R,M={env:en,wasi_snapshot_preview1:en};function F(W,K){var z,V=W.exports;return A=(me=V).memory,f(),me.__indirect_function_table,z=me.__wasm_call_ctors,g.unshift(z),function(ce){if(j--,l.monitorRunDependencies&&l.monitorRunDependencies(j),j==0&&x){var se=x;x=null,se()}}(),V}if(j++,l.monitorRunDependencies&&l.monitorRunDependencies(j),l.instantiateWasm)try{return l.instantiateWasm(M,F)}catch(W){T(`Module.instantiateWasm callback failed with error: ${W}`),h(W)}return(I=m,P=E,$=M,R=function(W){F(W.instance)},I||typeof WebAssembly.instantiateStreaming!="function"||H(P)||typeof fetch!="function"?q(P,$,R):fetch(P,{credentials:"same-origin"}).then(W=>WebAssembly.instantiateStreaming(W,$).then(R,function(K){return T(`wasm streaming compile failed: ${K}`),T("falling back to ArrayBuffer instantiation"),q(P,$,R)}))).catch(h),{}}(),Lt=I=>(Lt=me.malloc)(I),xe=I=>(xe=me.free)(I);function tn(){function I(){rt||(rt=!0,l.calledRun=!0,a||(ee(g),c(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),function(){if(l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;)P=l.postRun.shift(),_.unshift(P);var P;ee(_)}()))}j>0||(function(){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)P=l.preRun.shift(),o.unshift(P);var P;ee(o)}(),j>0||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),I()},1)):I()))}if(l._omalloc=I=>(l._omalloc=me.omalloc)(I),l._ofree=I=>(l._ofree=me.ofree)(I),l._getLastOnigError=()=>(l._getLastOnigError=me.getLastOnigError)(),l._createOnigScanner=(I,P,$,R,M)=>(l._createOnigScanner=me.createOnigScanner)(I,P,$,R,M),l._freeOnigScanner=I=>(l._freeOnigScanner=me.freeOnigScanner)(I),l._findNextOnigScannerMatch=(I,P,$,R,M,F)=>(l._findNextOnigScannerMatch=me.findNextOnigScannerMatch)(I,P,$,R,M,F),l._findNextOnigScannerMatchDbg=(I,P,$,R,M,F)=>(l._findNextOnigScannerMatchDbg=me.findNextOnigScannerMatchDbg)(I,P,$,R,M,F),l.__embind_initialize_bindings=()=>(l.__embind_initialize_bindings=me._embind_initialize_bindings)(),l.dynCall_jiji=(I,P,$,R,M)=>(l.dynCall_jiji=me.dynCall_jiji)(I,P,$,R,M),l.UTF8ToString=tt,x=function I(){rt||tn(),rt||(x=I)},l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();return tn(),r.ready});d.exports=u}},i={},function d(u){var r=i[u];if(r!==void 0)return r.exports;var c=i[u]={exports:{}};return n[u].call(c.exports,c,c.exports,d),c.exports}(770);var n,i})})(zn);var vt=zn.exports;const Jt=Un(vt);var Hn={exports:{}};(function(e,t){var n={};(function(i,d){e.exports=d()})(Wn,()=>(()=>{var i={350:(u,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UseOnigurumaFindOptions=r.DebugFlags=void 0,r.DebugFlags={InDebugMode:typeof process<"u"&&!!n.VSCODE_TEXTMATE_DEBUG},r.UseOnigurumaFindOptions=!1},442:(u,r,c)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.applyStateStackDiff=r.diffStateStacksRefEq=void 0;const h=c(391);r.diffStateStacksRefEq=function(l,v){let k=0;const m=[];let A=l,O=v;for(;A!==O;)A&&(!O||A.depth>=O.depth)?(k++,A=A.parent):(m.push(O.toStateStackFrame()),O=O.parent);return{pops:k,newFrames:m.reverse()}},r.applyStateStackDiff=function(l,v){let k=l;for(let m=0;m<v.pops;m++)k=k.parent;for(const m of v.newFrames)k=h.StateStackImpl.pushFrame(k,m);return k}},36:(u,r)=>{var c;Object.defineProperty(r,"__esModule",{value:!0}),r.toOptionalTokenType=r.EncodedTokenAttributes=void 0,(c=r.EncodedTokenAttributes||(r.EncodedTokenAttributes={})).toBinaryStr=function(h){return h.toString(2).padStart(32,"0")},c.print=function(h){const l=c.getLanguageId(h),v=c.getTokenType(h),k=c.getFontStyle(h),m=c.getForeground(h),A=c.getBackground(h);console.log({languageId:l,tokenType:v,fontStyle:k,foreground:m,background:A})},c.getLanguageId=function(h){return(255&h)>>>0},c.getTokenType=function(h){return(768&h)>>>8},c.containsBalancedBrackets=function(h){return(1024&h)!=0},c.getFontStyle=function(h){return(30720&h)>>>11},c.getForeground=function(h){return(16744448&h)>>>15},c.getBackground=function(h){return(4278190080&h)>>>24},c.set=function(h,l,v,k,m,A,O){let T=c.getLanguageId(h),L=c.getTokenType(h),S=c.containsBalancedBrackets(h)?1:0,w=c.getFontStyle(h),C=c.getForeground(h),y=c.getBackground(h);return l!==0&&(T=l),v!==8&&(L=v),k!==null&&(S=k?1:0),m!==-1&&(w=m),A!==0&&(C=A),O!==0&&(y=O),(T<<0|L<<8|S<<10|w<<11|C<<15|y<<24)>>>0},r.toOptionalTokenType=function(h){return h}},996:(u,r,c)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BasicScopeAttributesProvider=r.BasicScopeAttributes=void 0;const h=c(878);class l{constructor(A,O){this.languageId=A,this.tokenType=O}}r.BasicScopeAttributes=l;class v{constructor(A,O){this._getBasicScopeAttributes=new h.CachedFn(T=>{const L=this._scopeToLanguage(T),S=this._toStandardTokenType(T);return new l(L,S)}),this._defaultAttributes=new l(A,8),this._embeddedLanguagesMatcher=new k(Object.entries(O||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(A){return A===null?v._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(A)}_scopeToLanguage(A){return this._embeddedLanguagesMatcher.match(A)||0}_toStandardTokenType(A){const O=A.match(v.STANDARD_TOKEN_TYPE_REGEXP);if(!O)return 8;switch(O[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}r.BasicScopeAttributesProvider=v,v._NULL_SCOPE_METADATA=new l(0,0),v.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class k{constructor(A){if(A.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(A);const O=A.map(([T,L])=>h.escapeRegExpCharacters(T));O.sort(),O.reverse(),this.scopesRegExp=new RegExp(`^((${O.join(")|(")}))($|\\.)`,"")}}match(A){if(!this.scopesRegExp)return;const O=A.match(this.scopesRegExp);return O?this.values.get(O[1]):void 0}}},947:(u,r,c)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.LineTokens=r.BalancedBracketSelectors=r.StateStackImpl=r.AttributedScopeStack=r.Grammar=r.createGrammar=void 0;const h=c(350),l=c(36),v=c(736),k=c(44),m=c(792),A=c(583),O=c(878),T=c(996),L=c(47);function S(f,o,g,_,j){const x=v.createMatchers(o,w),G=m.RuleFactory.getCompiledRuleId(g,_,j.repository);for(const E of x)f.push({debugSelector:o,matcher:E.matcher,ruleId:G,grammar:j,priority:E.priority})}function w(f,o){if(o.length<f.length)return!1;let g=0;return f.every(_=>{for(let j=g;j<o.length;j++)if(C(o[j],_))return g=j+1,!0;return!1})}function C(f,o){if(!f)return!1;if(f===o)return!0;const g=o.length;return f.length>g&&f.substr(0,g)===o&&f[g]==="."}r.createGrammar=function(f,o,g,_,j,x,G,E){return new y(f,o,g,_,j,x,G,E)};class y{constructor(o,g,_,j,x,G,E,B){if(this._rootScopeName=o,this.balancedBracketSelectors=G,this._onigLib=B,this._basicScopeAttributesProvider=new T.BasicScopeAttributesProvider(_,j),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=E,this._grammar=b(g,null),this._injections=null,this._tokenTypeMatchers=[],x)for(const H of Object.keys(x)){const X=v.createMatchers(H,w);for(const q of X)this._tokenTypeMatchers.push({matcher:q.matcher,type:x[H]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const o of this._ruleId2desc)o&&o.dispose()}createOnigScanner(o){return this._onigLib.createOnigScanner(o)}createOnigString(o){return this._onigLib.createOnigString(o)}getMetadataForScope(o){return this._basicScopeAttributesProvider.getBasicScopeAttributes(o)}_collectInjections(){const o=[],g=this._rootScopeName,_=(j=>j===this._rootScopeName?this._grammar:this.getExternalGrammar(j))(g);if(_){const j=_.injections;if(j)for(let G in j)S(o,G,j[G],this,_);const x=this._grammarRepository.injections(g);x&&x.forEach(G=>{const E=this.getExternalGrammar(G);if(E){const B=E.injectionSelector;B&&S(o,B,E,this,E)}})}return o.sort((j,x)=>j.priority-x.priority),o}getInjections(){if(this._injections===null&&(this._injections=this._collectInjections(),h.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const o of this._injections)console.log(`  - ${o.debugSelector}`)}return this._injections}registerRule(o){const g=++this._lastRuleId,_=o(m.ruleIdFromNumber(g));return this._ruleId2desc[g]=_,_}getRule(o){return this._ruleId2desc[m.ruleIdToNumber(o)]}getExternalGrammar(o,g){if(this._includedGrammars[o])return this._includedGrammars[o];if(this._grammarRepository){const _=this._grammarRepository.lookup(o);if(_)return this._includedGrammars[o]=b(_,g&&g.$base),this._includedGrammars[o]}}tokenizeLine(o,g,_=0){const j=this._tokenize(o,g,!1,_);return{tokens:j.lineTokens.getResult(j.ruleStack,j.lineLength),ruleStack:j.ruleStack,stoppedEarly:j.stoppedEarly}}tokenizeLine2(o,g,_=0){const j=this._tokenize(o,g,!0,_);return{tokens:j.lineTokens.getBinaryResult(j.ruleStack,j.lineLength),ruleStack:j.ruleStack,stoppedEarly:j.stoppedEarly}}_tokenize(o,g,_,j){let x;if(this._rootId===-1&&(this._rootId=m.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),g&&g!==s.NULL)x=!1,g.reset();else{x=!0;const X=this._basicScopeAttributesProvider.getDefaultAttributes(),q=this.themeProvider.getDefaults(),ee=l.EncodedTokenAttributes.set(0,X.languageId,X.tokenType,null,q.fontStyle,q.foregroundId,q.backgroundId),re=this.getRule(this._rootId).getName(null,null);let J;J=re?p.createRootAndLookUpScopeName(re,ee,this):p.createRoot("unknown",ee),g=new s(null,this._rootId,-1,-1,!1,null,J,J)}o+=`
`;const G=this.createOnigString(o),E=G.content.length,B=new a(_,o,this._tokenTypeMatchers,this.balancedBracketSelectors),H=L._tokenizeString(this,G,x,0,g,B,!0,j);return k.disposeOnigString(G),{lineLength:E,lineTokens:B,ruleStack:H.stack,stoppedEarly:H.stoppedEarly}}}function b(f,o){return(f=O.clone(f)).repository=f.repository||{},f.repository.$self={$vscodeTextmateLocation:f.$vscodeTextmateLocation,patterns:f.patterns,name:f.scopeName},f.repository.$base=o||f.repository.$self,f}r.Grammar=y;class p{constructor(o,g,_){this.parent=o,this.scopePath=g,this.tokenAttributes=_}static fromExtension(o,g){let _=o,j=o?.scopePath??null;for(const x of g)j=A.ScopeStack.push(j,x.scopeNames),_=new p(_,j,x.encodedTokenAttributes);return _}static createRoot(o,g){return new p(null,new A.ScopeStack(null,o),g)}static createRootAndLookUpScopeName(o,g,_){const j=_.getMetadataForScope(o),x=new A.ScopeStack(null,o),G=_.themeProvider.themeMatch(x),E=p.mergeAttributes(g,j,G);return new p(null,x,E)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(o){return p.equals(this,o)}static equals(o,g){for(;;){if(o===g||!o&&!g)return!0;if(!o||!g||o.scopeName!==g.scopeName||o.tokenAttributes!==g.tokenAttributes)return!1;o=o.parent,g=g.parent}}static mergeAttributes(o,g,_){let j=-1,x=0,G=0;return _!==null&&(j=_.fontStyle,x=_.foregroundId,G=_.backgroundId),l.EncodedTokenAttributes.set(o,g.languageId,g.tokenType,null,j,x,G)}pushAttributed(o,g){if(o===null)return this;if(o.indexOf(" ")===-1)return p._pushAttributed(this,o,g);const _=o.split(/ /g);let j=this;for(const x of _)j=p._pushAttributed(j,x,g);return j}static _pushAttributed(o,g,_){const j=_.getMetadataForScope(g),x=o.scopePath.push(g),G=_.themeProvider.themeMatch(x),E=p.mergeAttributes(o.tokenAttributes,j,G);return new p(o,x,E)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(o){const g=[];let _=this;for(;_&&_!==o;)g.push({encodedTokenAttributes:_.tokenAttributes,scopeNames:_.scopePath.getExtensionIfDefined(_.parent?.scopePath??null)}),_=_.parent;return _===o?g.reverse():void 0}}r.AttributedScopeStack=p;class s{constructor(o,g,_,j,x,G,E,B){this.parent=o,this.ruleId=g,this.beginRuleCapturedEOL=x,this.endRule=G,this.nameScopesList=E,this.contentNameScopesList=B,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=_,this._anchorPos=j}equals(o){return o!==null&&s._equals(this,o)}static _equals(o,g){return o===g||!!this._structuralEquals(o,g)&&p.equals(o.contentNameScopesList,g.contentNameScopesList)}static _structuralEquals(o,g){for(;;){if(o===g||!o&&!g)return!0;if(!o||!g||o.depth!==g.depth||o.ruleId!==g.ruleId||o.endRule!==g.endRule)return!1;o=o.parent,g=g.parent}}clone(){return this}static _reset(o){for(;o;)o._enterPos=-1,o._anchorPos=-1,o=o.parent}reset(){s._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(o,g,_,j,x,G,E){return new s(this,o,g,_,j,x,G,E)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(o){return o.getRule(this.ruleId)}toString(){const o=[];return this._writeString(o,0),"["+o.join(",")+"]"}_writeString(o,g){return this.parent&&(g=this.parent._writeString(o,g)),o[g++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,g}withContentNameScopesList(o){return this.contentNameScopesList===o?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,o)}withEndRule(o){return this.endRule===o?this:new s(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,o,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(o){let g=this;for(;g&&g._enterPos===o._enterPos;){if(g.ruleId===o.ruleId)return!0;g=g.parent}return!1}toStateStackFrame(){return{ruleId:m.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(o,g){const _=p.fromExtension(o?.nameScopesList??null,g.nameScopesList);return new s(o,m.ruleIdFromNumber(g.ruleId),g.enterPos??-1,g.anchorPos??-1,g.beginRuleCapturedEOL,g.endRule,_,p.fromExtension(_,g.contentNameScopesList))}}r.StateStackImpl=s,s.NULL=new s(null,0,0,0,!1,null,null,null),r.BalancedBracketSelectors=class{constructor(f,o){this.allowAny=!1,this.balancedBracketScopes=f.flatMap(g=>g==="*"?(this.allowAny=!0,[]):v.createMatchers(g,w).map(_=>_.matcher)),this.unbalancedBracketScopes=o.flatMap(g=>v.createMatchers(g,w).map(_=>_.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(f){for(const o of this.unbalancedBracketScopes)if(o(f))return!1;for(const o of this.balancedBracketScopes)if(o(f))return!0;return this.allowAny}};class a{constructor(o,g,_,j){this.balancedBracketSelectors=j,this._emitBinaryTokens=o,this._tokenTypeOverrides=_,h.DebugFlags.InDebugMode?this._lineText=g:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(o,g){this.produceFromScopes(o.contentNameScopesList,g)}produceFromScopes(o,g){if(this._lastTokenEndIndex>=g)return;if(this._emitBinaryTokens){let j=o?.tokenAttributes??0,x=!1;if(this.balancedBracketSelectors?.matchesAlways&&(x=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const G=o?.getScopeNames()??[];for(const E of this._tokenTypeOverrides)E.matcher(G)&&(j=l.EncodedTokenAttributes.set(j,0,l.toOptionalTokenType(E.type),null,-1,0,0));this.balancedBracketSelectors&&(x=this.balancedBracketSelectors.match(G))}if(x&&(j=l.EncodedTokenAttributes.set(j,0,8,x,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===j)return void(this._lastTokenEndIndex=g);if(h.DebugFlags.InDebugMode){const G=o?.getScopeNames()??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,g).replace(/\n$/,"\\n")+"|");for(let E=0;E<G.length;E++)console.log("      * "+G[E])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(j),void(this._lastTokenEndIndex=g)}const _=o?.getScopeNames()??[];if(h.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,g).replace(/\n$/,"\\n")+"|");for(let j=0;j<_.length;j++)console.log("      * "+_[j])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:g,scopes:_}),this._lastTokenEndIndex=g}getResult(o,g){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===g-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(o,g),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(o,g){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===g-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(o,g),this._binaryTokens[this._binaryTokens.length-2]=0);const _=new Uint32Array(this._binaryTokens.length);for(let j=0,x=this._binaryTokens.length;j<x;j++)_[j]=this._binaryTokens[j];return _}}r.LineTokens=a},965:(u,r,c)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.parseInclude=r.TopLevelRepositoryReference=r.TopLevelReference=r.RelativeReference=r.SelfReference=r.BaseReference=r.ScopeDependencyProcessor=r.ExternalReferenceCollector=r.TopLevelRepositoryRuleReference=r.TopLevelRuleReference=void 0;const h=c(878);class l{constructor(s){this.scopeName=s}toKey(){return this.scopeName}}r.TopLevelRuleReference=l;class v{constructor(s,a){this.scopeName=s,this.ruleName=a}toKey(){return`${this.scopeName}#${this.ruleName}`}}r.TopLevelRepositoryRuleReference=v;class k{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(s){const a=s.toKey();this._seenReferenceKeys.has(a)||(this._seenReferenceKeys.add(a),this._references.push(s))}}function m(p,s,a,f){const o=a.lookup(p.scopeName);if(!o){if(p.scopeName===s)throw new Error(`No grammar provided for <${s}>`);return}const g=a.lookup(s);p instanceof l?O({baseGrammar:g,selfGrammar:o},f):A(p.ruleName,{baseGrammar:g,selfGrammar:o,repository:o.repository},f);const _=a.injections(p.scopeName);if(_)for(const j of _)f.add(new l(j))}function A(p,s,a){s.repository&&s.repository[p]&&T([s.repository[p]],s,a)}function O(p,s){p.selfGrammar.patterns&&Array.isArray(p.selfGrammar.patterns)&&T(p.selfGrammar.patterns,{...p,repository:p.selfGrammar.repository},s),p.selfGrammar.injections&&T(Object.values(p.selfGrammar.injections),{...p,repository:p.selfGrammar.repository},s)}function T(p,s,a){for(const f of p){if(a.visitedRule.has(f))continue;a.visitedRule.add(f);const o=f.repository?h.mergeObjects({},s.repository,f.repository):s.repository;Array.isArray(f.patterns)&&T(f.patterns,{...s,repository:o},a);const g=f.include;if(!g)continue;const _=b(g);switch(_.kind){case 0:O({...s,selfGrammar:s.baseGrammar},a);break;case 1:O(s,a);break;case 2:A(_.ruleName,{...s,repository:o},a);break;case 3:case 4:const j=_.scopeName===s.selfGrammar.scopeName?s.selfGrammar:_.scopeName===s.baseGrammar.scopeName?s.baseGrammar:void 0;if(j){const x={baseGrammar:s.baseGrammar,selfGrammar:j,repository:o};_.kind===4?A(_.ruleName,x,a):O(x,a)}else _.kind===4?a.add(new v(_.scopeName,_.ruleName)):a.add(new l(_.scopeName))}}}r.ExternalReferenceCollector=k,r.ScopeDependencyProcessor=class{constructor(p,s){this.repo=p,this.initialScopeName=s,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new l(this.initialScopeName)]}processQueue(){const p=this.Q;this.Q=[];const s=new k;for(const a of p)m(a,this.initialScopeName,this.repo,s);for(const a of s.references)if(a instanceof l){if(this.seenFullScopeRequests.has(a.scopeName))continue;this.seenFullScopeRequests.add(a.scopeName),this.Q.push(a)}else{if(this.seenFullScopeRequests.has(a.scopeName)||this.seenPartialScopeRequests.has(a.toKey()))continue;this.seenPartialScopeRequests.add(a.toKey()),this.Q.push(a)}}};class L{constructor(){this.kind=0}}r.BaseReference=L;class S{constructor(){this.kind=1}}r.SelfReference=S;class w{constructor(s){this.ruleName=s,this.kind=2}}r.RelativeReference=w;class C{constructor(s){this.scopeName=s,this.kind=3}}r.TopLevelReference=C;class y{constructor(s,a){this.scopeName=s,this.ruleName=a,this.kind=4}}function b(p){if(p==="$base")return new L;if(p==="$self")return new S;const s=p.indexOf("#");if(s===-1)return new C(p);if(s===0)return new w(p.substring(1));{const a=p.substring(0,s),f=p.substring(s+1);return new y(a,f)}}r.TopLevelRepositoryReference=y,r.parseInclude=b},391:function(u,r,c){var h=this&&this.__createBinding||(Object.create?function(v,k,m,A){A===void 0&&(A=m),Object.defineProperty(v,A,{enumerable:!0,get:function(){return k[m]}})}:function(v,k,m,A){A===void 0&&(A=m),v[A]=k[m]}),l=this&&this.__exportStar||function(v,k){for(var m in v)m==="default"||Object.prototype.hasOwnProperty.call(k,m)||h(k,v,m)};Object.defineProperty(r,"__esModule",{value:!0}),l(c(947),r)},47:(u,r,c)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.LocalStackElement=r._tokenizeString=void 0;const h=c(350),l=c(44),v=c(792),k=c(878);class m{constructor(y,b){this.stack=y,this.stoppedEarly=b}}function A(C,y,b,p,s,a,f,o){const g=y.content.length;let _=!1,j=-1;if(f){const E=function(B,H,X,q,ee,re){let J=ee.beginRuleCapturedEOL?0:-1;const Y=[];for(let Q=ee;Q;Q=Q.pop()){const Z=Q.getRule(B);Z instanceof v.BeginWhileRule&&Y.push({rule:Z,stack:Q})}for(let Q=Y.pop();Q;Q=Y.pop()){const{ruleScanner:Z,findOptions:pe}=T(Q.rule,B,Q.stack.endRule,X,q===J),N=Z.findNextMatchSync(H,q,pe);if(h.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(Z.toString())),!N){h.DebugFlags.InDebugMode&&console.log("  popping "+Q.rule.debugName+" - "+Q.rule.debugWhileRegExp),ee=Q.stack.pop();break}if(N.ruleId!==v.whileRuleId){ee=Q.stack.pop();break}N.captureIndices&&N.captureIndices.length&&(re.produce(Q.stack,N.captureIndices[0].start),S(B,H,X,Q.stack,re,Q.rule.whileCaptures,N.captureIndices),re.produce(Q.stack,N.captureIndices[0].end),J=N.captureIndices[0].end,N.captureIndices[0].end>q&&(q=N.captureIndices[0].end,X=!1))}return{stack:ee,linePos:q,anchorPosition:J,isFirstLine:X}}(C,y,b,p,s,a);s=E.stack,p=E.linePos,b=E.isFirstLine,j=E.anchorPosition}const x=Date.now();for(;!_;){if(o!==0&&Date.now()-x>o)return new m(s,!0);G()}return new m(s,!1);function G(){h.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${p}: |${y.content.substr(p).replace(/\n$/,"\\n")}|`));const E=function(q,ee,re,J,Y,Q){const Z=function(oe,_e,ue,ke,Ie,Be){const je=Ie.getRule(oe),{ruleScanner:Ne,findOptions:Ee}=O(je,oe,Ie.endRule,ue,ke===Be);let Oe=0;h.DebugFlags.InDebugMode&&(Oe=k.performanceNow());const be=Ne.findNextMatchSync(_e,ke,Ee);if(h.DebugFlags.InDebugMode){const Re=k.performanceNow()-Oe;Re>5&&console.warn(`Rule ${je.debugName} (${je.id}) matching took ${Re} against '${_e}'`),console.log(`  scanning for (linePos: ${ke}, anchorPosition: ${Be})`),console.log(Ne.toString()),be&&console.log(`matched rule id: ${be.ruleId} from ${be.captureIndices[0].start} to ${be.captureIndices[0].end}`)}return be?{captureIndices:be.captureIndices,matchedRuleId:be.ruleId}:null}(q,ee,re,J,Y,Q),pe=q.getInjections();if(pe.length===0)return Z;const N=function(oe,_e,ue,ke,Ie,Be,je){let Ne,Ee=Number.MAX_VALUE,Oe=null,be=0;const Re=Be.contentNameScopesList.getScopeNames();for(let Fe=0,tt=oe.length;Fe<tt;Fe++){const $e=oe[Fe];if(!$e.matcher(Re))continue;const At=_e.getRule($e.ruleId),{ruleScanner:nt,findOptions:Ct}=O(At,_e,null,ke,Ie===je),We=nt.findNextMatchSync(ue,Ie,Ct);if(!We)continue;h.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${$e.debugSelector}`),console.log(nt.toString()));const st=We.captureIndices[0].start;if(!(st>=Ee)&&(Ee=st,Oe=We.captureIndices,Ne=We.ruleId,be=$e.priority,Ee===Ie))break}return Oe?{priorityMatch:be===-1,captureIndices:Oe,matchedRuleId:Ne}:null}(pe,q,ee,re,J,Y,Q);if(!N)return Z;if(!Z)return N;const D=Z.captureIndices[0].start,U=N.captureIndices[0].start;return U<D||N.priorityMatch&&U===D?N:Z}(C,y,b,p,s,j);if(!E)return h.DebugFlags.InDebugMode&&console.log("  no more matches."),a.produce(s,g),void(_=!0);const B=E.captureIndices,H=E.matchedRuleId,X=!!(B&&B.length>0)&&B[0].end>p;if(H===v.endRuleId){const q=s.getRule(C);h.DebugFlags.InDebugMode&&console.log("  popping "+q.debugName+" - "+q.debugEndRegExp),a.produce(s,B[0].start),s=s.withContentNameScopesList(s.nameScopesList),S(C,y,b,s,a,q.endCaptures,B),a.produce(s,B[0].end);const ee=s;if(s=s.parent,j=ee.getAnchorPos(),!X&&ee.getEnterPos()===p)return h.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),s=ee,a.produce(s,g),void(_=!0)}else{const q=C.getRule(H);a.produce(s,B[0].start);const ee=s,re=q.getName(y.content,B),J=s.contentNameScopesList.pushAttributed(re,C);if(s=s.push(H,p,j,B[0].end===g,null,J,J),q instanceof v.BeginEndRule){const Y=q;h.DebugFlags.InDebugMode&&console.log("  pushing "+Y.debugName+" - "+Y.debugBeginRegExp),S(C,y,b,s,a,Y.beginCaptures,B),a.produce(s,B[0].end),j=B[0].end;const Q=Y.getContentName(y.content,B),Z=J.pushAttributed(Q,C);if(s=s.withContentNameScopesList(Z),Y.endHasBackReferences&&(s=s.withEndRule(Y.getEndWithResolvedBackReferences(y.content,B))),!X&&ee.hasSameRuleAs(s))return h.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),s=s.pop(),a.produce(s,g),void(_=!0)}else if(q instanceof v.BeginWhileRule){const Y=q;h.DebugFlags.InDebugMode&&console.log("  pushing "+Y.debugName),S(C,y,b,s,a,Y.beginCaptures,B),a.produce(s,B[0].end),j=B[0].end;const Q=Y.getContentName(y.content,B),Z=J.pushAttributed(Q,C);if(s=s.withContentNameScopesList(Z),Y.whileHasBackReferences&&(s=s.withEndRule(Y.getWhileWithResolvedBackReferences(y.content,B))),!X&&ee.hasSameRuleAs(s))return h.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),s=s.pop(),a.produce(s,g),void(_=!0)}else{const Y=q;if(h.DebugFlags.InDebugMode&&console.log("  matched "+Y.debugName+" - "+Y.debugMatchRegExp),S(C,y,b,s,a,Y.captures,B),a.produce(s,B[0].end),s=s.pop(),!X)return h.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),s=s.safePop(),a.produce(s,g),void(_=!0)}}B[0].end>p&&(p=B[0].end,b=!1)}}function O(C,y,b,p,s){return h.UseOnigurumaFindOptions?{ruleScanner:C.compile(y,b),findOptions:L(p,s)}:{ruleScanner:C.compileAG(y,b,p,s),findOptions:0}}function T(C,y,b,p,s){return h.UseOnigurumaFindOptions?{ruleScanner:C.compileWhile(y,b),findOptions:L(p,s)}:{ruleScanner:C.compileWhileAG(y,b,p,s),findOptions:0}}function L(C,y){let b=0;return C||(b|=1),y||(b|=4),b}function S(C,y,b,p,s,a,f){if(a.length===0)return;const o=y.content,g=Math.min(a.length,f.length),_=[],j=f[0].end;for(let x=0;x<g;x++){const G=a[x];if(G===null)continue;const E=f[x];if(E.length===0)continue;if(E.start>j)break;for(;_.length>0&&_[_.length-1].endPos<=E.start;)s.produceFromScopes(_[_.length-1].scopes,_[_.length-1].endPos),_.pop();if(_.length>0?s.produceFromScopes(_[_.length-1].scopes,E.start):s.produce(p,E.start),G.retokenizeCapturedWithRuleId){const H=G.getName(o,f),X=p.contentNameScopesList.pushAttributed(H,C),q=G.getContentName(o,f),ee=X.pushAttributed(q,C),re=p.push(G.retokenizeCapturedWithRuleId,E.start,-1,!1,null,X,ee),J=C.createOnigString(o.substring(0,E.end));A(C,J,b&&E.start===0,E.start,re,s,!1,0),l.disposeOnigString(J);continue}const B=G.getName(o,f);if(B!==null){const H=(_.length>0?_[_.length-1].scopes:p.contentNameScopesList).pushAttributed(B,C);_.push(new w(H,E.end))}}for(;_.length>0;)s.produceFromScopes(_[_.length-1].scopes,_[_.length-1].endPos),_.pop()}r._tokenizeString=A;class w{constructor(y,b){this.scopes=y,this.endPos=b}}r.LocalStackElement=w},974:(u,r)=>{function c(k,m){throw new Error("Near offset "+k.pos+": "+m+" ~~~"+k.source.substr(k.pos,50)+"~~~")}Object.defineProperty(r,"__esModule",{value:!0}),r.parseJSON=void 0,r.parseJSON=function(k,m,A){let O=new h(k),T=new l,L=0,S=null,w=[],C=[];function y(){w.push(L),C.push(S)}function b(){L=w.pop(),S=C.pop()}function p(s){c(O,s)}for(;v(O,T);){if(L===0){if(S!==null&&p("too many constructs in root"),T.type===3){S={},A&&(S.$vscodeTextmateLocation=T.toLocation(m)),y(),L=1;continue}if(T.type===2){S=[],y(),L=4;continue}p("unexpected token in root")}if(L===2){if(T.type===5){b();continue}if(T.type===7){L=3;continue}p("expected , or }")}if(L===1||L===3){if(L===1&&T.type===5){b();continue}if(T.type===1){let s=T.value;if(v(O,T)&&T.type===6||p("expected colon"),v(O,T)||p("expected value"),L=2,T.type===1){S[s]=T.value;continue}if(T.type===8){S[s]=null;continue}if(T.type===9){S[s]=!0;continue}if(T.type===10){S[s]=!1;continue}if(T.type===11){S[s]=parseFloat(T.value);continue}if(T.type===2){let a=[];S[s]=a,y(),L=4,S=a;continue}if(T.type===3){let a={};A&&(a.$vscodeTextmateLocation=T.toLocation(m)),S[s]=a,y(),L=1,S=a;continue}}p("unexpected token in dict")}if(L===5){if(T.type===4){b();continue}if(T.type===7){L=6;continue}p("expected , or ]")}if(L===4||L===6){if(L===4&&T.type===4){b();continue}if(L=5,T.type===1){S.push(T.value);continue}if(T.type===8){S.push(null);continue}if(T.type===9){S.push(!0);continue}if(T.type===10){S.push(!1);continue}if(T.type===11){S.push(parseFloat(T.value));continue}if(T.type===2){let s=[];S.push(s),y(),L=4,S=s;continue}if(T.type===3){let s={};A&&(s.$vscodeTextmateLocation=T.toLocation(m)),S.push(s),y(),L=1,S=s;continue}p("unexpected token in array")}p("unknown state")}return C.length!==0&&p("unclosed constructs"),S};class h{constructor(m){this.source=m,this.pos=0,this.len=m.length,this.line=1,this.char=0}}class l{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(m){return{filename:m,line:this.line,char:this.char}}}function v(k,m){m.value=null,m.type=0,m.offset=-1,m.len=-1,m.line=-1,m.char=-1;let A,O=k.source,T=k.pos,L=k.len,S=k.line,w=k.char;for(;;){if(T>=L)return!1;if(A=O.charCodeAt(T),A!==32&&A!==9&&A!==13){if(A!==10)break;T++,S++,w=0}else T++,w++}if(m.offset=T,m.line=S,m.char=w,A===34){for(m.type=1,T++,w++;;){if(T>=L)return!1;if(A=O.charCodeAt(T),T++,w++,A!==92){if(A===34)break}else T++,w++}m.value=O.substring(m.offset+1,T-1).replace(/\\u([0-9A-Fa-f]{4})/g,(C,y)=>String.fromCodePoint(parseInt(y,16))).replace(/\\(.)/g,(C,y)=>{switch(y){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:c(k,"invalid escape sequence")}throw new Error("unreachable")})}else if(A===91)m.type=2,T++,w++;else if(A===123)m.type=3,T++,w++;else if(A===93)m.type=4,T++,w++;else if(A===125)m.type=5,T++,w++;else if(A===58)m.type=6,T++,w++;else if(A===44)m.type=7,T++,w++;else if(A===110){if(m.type=8,T++,w++,A=O.charCodeAt(T),A!==117||(T++,w++,A=O.charCodeAt(T),A!==108)||(T++,w++,A=O.charCodeAt(T),A!==108))return!1;T++,w++}else if(A===116){if(m.type=9,T++,w++,A=O.charCodeAt(T),A!==114||(T++,w++,A=O.charCodeAt(T),A!==117)||(T++,w++,A=O.charCodeAt(T),A!==101))return!1;T++,w++}else if(A===102){if(m.type=10,T++,w++,A=O.charCodeAt(T),A!==97||(T++,w++,A=O.charCodeAt(T),A!==108)||(T++,w++,A=O.charCodeAt(T),A!==115)||(T++,w++,A=O.charCodeAt(T),A!==101))return!1;T++,w++}else for(m.type=11;;){if(T>=L)return!1;if(A=O.charCodeAt(T),!(A===46||A>=48&&A<=57||A===101||A===69||A===45||A===43))break;T++,w++}return m.len=T-m.offset,m.value===null&&(m.value=O.substr(m.offset,m.len)),k.pos=T,k.line=S,k.char=w,!0}},787:function(u,r,c){var h=this&&this.__createBinding||(Object.create?function(L,S,w,C){C===void 0&&(C=w),Object.defineProperty(L,C,{enumerable:!0,get:function(){return S[w]}})}:function(L,S,w,C){C===void 0&&(C=w),L[C]=S[w]}),l=this&&this.__exportStar||function(L,S){for(var w in L)w==="default"||Object.prototype.hasOwnProperty.call(S,w)||h(S,L,w)};Object.defineProperty(r,"__esModule",{value:!0}),r.applyStateStackDiff=r.diffStateStacksRefEq=r.parseRawGrammar=r.INITIAL=r.Registry=void 0;const v=c(391),k=c(50),m=c(652),A=c(583),O=c(965),T=c(442);Object.defineProperty(r,"applyStateStackDiff",{enumerable:!0,get:function(){return T.applyStateStackDiff}}),Object.defineProperty(r,"diffStateStacksRefEq",{enumerable:!0,get:function(){return T.diffStateStacksRefEq}}),l(c(44),r),r.Registry=class{constructor(L){this._options=L,this._syncRegistry=new m.SyncRegistry(A.Theme.createFromRawTheme(L.theme,L.colorMap),L.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(L,S){this._syncRegistry.setTheme(A.Theme.createFromRawTheme(L,S))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(L,S,w){return this.loadGrammarWithConfiguration(L,S,{embeddedLanguages:w})}loadGrammarWithConfiguration(L,S,w){return this._loadGrammar(L,S,w.embeddedLanguages,w.tokenTypes,new v.BalancedBracketSelectors(w.balancedBracketSelectors||[],w.unbalancedBracketSelectors||[]))}loadGrammar(L){return this._loadGrammar(L,0,null,null,null)}async _loadGrammar(L,S,w,C,y){const b=new O.ScopeDependencyProcessor(this._syncRegistry,L);for(;b.Q.length>0;)await Promise.all(b.Q.map(p=>this._loadSingleGrammar(p.scopeName))),b.processQueue();return this._grammarForScopeName(L,S,w,C,y)}async _loadSingleGrammar(L){return this._ensureGrammarCache.has(L)||this._ensureGrammarCache.set(L,this._doLoadSingleGrammar(L)),this._ensureGrammarCache.get(L)}async _doLoadSingleGrammar(L){const S=await this._options.loadGrammar(L);if(S){const w=typeof this._options.getInjections=="function"?this._options.getInjections(L):void 0;this._syncRegistry.addGrammar(S,w)}}async addGrammar(L,S=[],w=0,C=null){return this._syncRegistry.addGrammar(L,S),await this._grammarForScopeName(L.scopeName,w,C)}_grammarForScopeName(L,S=0,w=null,C=null,y=null){return this._syncRegistry.grammarForScopeName(L,S,w,C,y)}},r.INITIAL=v.StateStackImpl.NULL,r.parseRawGrammar=k.parseRawGrammar},736:(u,r)=>{function c(h){return!!h&&!!h.match(/[\w\.:]+/)}Object.defineProperty(r,"__esModule",{value:!0}),r.createMatchers=void 0,r.createMatchers=function(h,l){const v=[],k=function(T){let L=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,S=L.exec(T);return{next:()=>{if(!S)return null;const w=S[0];return S=L.exec(T),w}}}(h);let m=k.next();for(;m!==null;){let T=0;if(m.length===2&&m.charAt(1)===":"){switch(m.charAt(0)){case"R":T=1;break;case"L":T=-1;break;default:console.log(`Unknown priority ${m} in scope selector`)}m=k.next()}let L=O();if(v.push({matcher:L,priority:T}),m!==",")break;m=k.next()}return v;function A(){if(m==="-"){m=k.next();const T=A();return L=>!!T&&!T(L)}if(m==="("){m=k.next();const T=function(){const L=[];let S=O();for(;S&&(L.push(S),m==="|"||m===",");){do m=k.next();while(m==="|"||m===",");S=O()}return w=>L.some(C=>C(w))}();return m===")"&&(m=k.next()),T}if(c(m)){const T=[];do T.push(m),m=k.next();while(c(m));return L=>l(T,L)}return null}function O(){const T=[];let L=A();for(;L;)T.push(L),L=A();return S=>T.every(w=>w(S))}}},44:(u,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.disposeOnigString=void 0,r.disposeOnigString=function(c){typeof c.dispose=="function"&&c.dispose()}},50:(u,r,c)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.parseRawGrammar=void 0;const h=c(69),l=c(350),v=c(974);r.parseRawGrammar=function(k,m=null){return m!==null&&/\.json$/.test(m)?(A=k,O=m,l.DebugFlags.InDebugMode?v.parseJSON(A,O,!0):JSON.parse(A)):function(T,L){return l.DebugFlags.InDebugMode?h.parseWithLocation(T,L,"$vscodeTextmateLocation"):h.parsePLIST(T)}(k,m);var A,O}},69:(u,r)=>{function c(h,l,v){const k=h.length;let m=0,A=1,O=0;function T(N){if(v===null)m+=N;else for(;N>0;)h.charCodeAt(m)===10?(m++,A++,O=0):(m++,O++),N--}function L(N){v===null?m=N:T(N-m)}function S(){for(;m<k;){let N=h.charCodeAt(m);if(N!==32&&N!==9&&N!==13&&N!==10)break;T(1)}}function w(N){return h.substr(m,N.length)===N&&(T(N.length),!0)}function C(N){let D=h.indexOf(N,m);L(D!==-1?D+N.length:k)}function y(N){let D=h.indexOf(N,m);if(D!==-1){let U=h.substring(m,D);return L(D+N.length),U}{let U=h.substr(m);return L(k),U}}k>0&&h.charCodeAt(0)===65279&&(m=1);let b=0,p=null,s=[],a=[],f=null;function o(N,D){s.push(b),a.push(p),b=N,p=D}function g(){if(s.length===0)return _("illegal state stack");b=s.pop(),p=a.pop()}function _(N){throw new Error("Near offset "+m+": "+N+" ~~~"+h.substr(m,50)+"~~~")}const j=function(){if(f===null)return _("missing <key>");let N={};v!==null&&(N[v]={filename:l,line:A,char:O}),p[f]=N,f=null,o(1,N)},x=function(){if(f===null)return _("missing <key>");let N=[];p[f]=N,f=null,o(2,N)},G=function(){let N={};v!==null&&(N[v]={filename:l,line:A,char:O}),p.push(N),o(1,N)},E=function(){let N=[];p.push(N),o(2,N)};function B(){if(b!==1)return _("unexpected </dict>");g()}function H(){return b===1||b!==2?_("unexpected </array>"):void g()}function X(N){if(b===1){if(f===null)return _("missing <key>");p[f]=N,f=null}else b===2?p.push(N):p=N}function q(N){if(isNaN(N))return _("cannot parse float");if(b===1){if(f===null)return _("missing <key>");p[f]=N,f=null}else b===2?p.push(N):p=N}function ee(N){if(isNaN(N))return _("cannot parse integer");if(b===1){if(f===null)return _("missing <key>");p[f]=N,f=null}else b===2?p.push(N):p=N}function re(N){if(b===1){if(f===null)return _("missing <key>");p[f]=N,f=null}else b===2?p.push(N):p=N}function J(N){if(b===1){if(f===null)return _("missing <key>");p[f]=N,f=null}else b===2?p.push(N):p=N}function Y(N){if(b===1){if(f===null)return _("missing <key>");p[f]=N,f=null}else b===2?p.push(N):p=N}function Q(){let N=y(">"),D=!1;return N.charCodeAt(N.length-1)===47&&(D=!0,N=N.substring(0,N.length-1)),{name:N.trim(),isClosed:D}}function Z(N){if(N.isClosed)return"";let D=y("</");return C(">"),D.replace(/&#([0-9]+);/g,function(U,oe){return String.fromCodePoint(parseInt(oe,10))}).replace(/&#x([0-9a-f]+);/g,function(U,oe){return String.fromCodePoint(parseInt(oe,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(U){switch(U){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return U})}for(;m<k&&(S(),!(m>=k));){const N=h.charCodeAt(m);if(T(1),N!==60)return _("expected <");if(m>=k)return _("unexpected end of input");const D=h.charCodeAt(m);if(D===63){T(1),C("?>");continue}if(D===33){if(T(1),w("--")){C("-->");continue}C(">");continue}if(D===47){if(T(1),S(),w("plist")){C(">");continue}if(w("dict")){C(">"),B();continue}if(w("array")){C(">"),H();continue}return _("unexpected closed tag")}let U=Q();switch(U.name){case"dict":b===1?j():b===2?G():(p={},v!==null&&(p[v]={filename:l,line:A,char:O}),o(1,p)),U.isClosed&&B();continue;case"array":b===1?x():b===2?E():(p=[],o(2,p)),U.isClosed&&H();continue;case"key":pe=Z(U),b!==1?_("unexpected <key>"):f!==null?_("too many <key>"):f=pe;continue;case"string":X(Z(U));continue;case"real":q(parseFloat(Z(U)));continue;case"integer":ee(parseInt(Z(U),10));continue;case"date":re(new Date(Z(U)));continue;case"data":J(Z(U));continue;case"true":Z(U),Y(!0);continue;case"false":Z(U),Y(!1);continue}if(!/^plist/.test(U.name))return _("unexpected opened tag "+U.name)}var pe;return p}Object.defineProperty(r,"__esModule",{value:!0}),r.parsePLIST=r.parseWithLocation=void 0,r.parseWithLocation=function(h,l,v){return c(h,l,v)},r.parsePLIST=function(h){return c(h,null,null)}},652:(u,r,c)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SyncRegistry=void 0;const h=c(391);r.SyncRegistry=class{constructor(l,v){this._onigLibPromise=v,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=l}dispose(){for(const l of this._grammars.values())l.dispose()}setTheme(l){this._theme=l}getColorMap(){return this._theme.getColorMap()}addGrammar(l,v){this._rawGrammars.set(l.scopeName,l),v&&this._injectionGrammars.set(l.scopeName,v)}lookup(l){return this._rawGrammars.get(l)}injections(l){return this._injectionGrammars.get(l)}getDefaults(){return this._theme.getDefaults()}themeMatch(l){return this._theme.match(l)}async grammarForScopeName(l,v,k,m,A){if(!this._grammars.has(l)){let O=this._rawGrammars.get(l);if(!O)return null;this._grammars.set(l,h.createGrammar(l,O,v,k,m,A,this,await this._onigLibPromise))}return this._grammars.get(l)}}},792:(u,r,c)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CompiledRule=r.RegExpSourceList=r.RegExpSource=r.RuleFactory=r.BeginWhileRule=r.BeginEndRule=r.IncludeOnlyRule=r.MatchRule=r.CaptureRule=r.Rule=r.ruleIdToNumber=r.ruleIdFromNumber=r.whileRuleId=r.endRuleId=void 0;const h=c(878),l=c(965),v=/\\(\d+)/,k=/\\(\d+)/g;r.endRuleId=-1,r.whileRuleId=-2,r.ruleIdFromNumber=function(p){return p},r.ruleIdToNumber=function(p){return p};class m{constructor(s,a,f,o){this.$location=s,this.id=a,this._name=f||null,this._nameIsCapturing=h.RegexSource.hasCaptures(this._name),this._contentName=o||null,this._contentNameIsCapturing=h.RegexSource.hasCaptures(this._contentName)}get debugName(){const s=this.$location?`${h.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${s}`}getName(s,a){return this._nameIsCapturing&&this._name!==null&&s!==null&&a!==null?h.RegexSource.replaceCaptures(this._name,s,a):this._name}getContentName(s,a){return this._contentNameIsCapturing&&this._contentName!==null?h.RegexSource.replaceCaptures(this._contentName,s,a):this._contentName}}r.Rule=m;class A extends m{constructor(s,a,f,o,g){super(s,a,f,o),this.retokenizeCapturedWithRuleId=g}dispose(){}collectPatterns(s,a){throw new Error("Not supported!")}compile(s,a){throw new Error("Not supported!")}compileAG(s,a,f,o){throw new Error("Not supported!")}}r.CaptureRule=A;class O extends m{constructor(s,a,f,o,g){super(s,a,f,null),this._match=new C(o,this.id),this.captures=g,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(s,a){a.push(this._match)}compile(s,a){return this._getCachedCompiledPatterns(s).compile(s)}compileAG(s,a,f,o){return this._getCachedCompiledPatterns(s).compileAG(s,f,o)}_getCachedCompiledPatterns(s){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new y,this.collectPatterns(s,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}r.MatchRule=O;class T extends m{constructor(s,a,f,o,g){super(s,a,f,o),this.patterns=g.patterns,this.hasMissingPatterns=g.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(s,a){for(const f of this.patterns)s.getRule(f).collectPatterns(s,a)}compile(s,a){return this._getCachedCompiledPatterns(s).compile(s)}compileAG(s,a,f,o){return this._getCachedCompiledPatterns(s).compileAG(s,f,o)}_getCachedCompiledPatterns(s){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new y,this.collectPatterns(s,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}r.IncludeOnlyRule=T;class L extends m{constructor(s,a,f,o,g,_,j,x,G,E){super(s,a,f,o),this._begin=new C(g,this.id),this.beginCaptures=_,this._end=new C(j||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=x,this.applyEndPatternLast=G||!1,this.patterns=E.patterns,this.hasMissingPatterns=E.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(s,a){return this._end.resolveBackReferences(s,a)}collectPatterns(s,a){a.push(this._begin)}compile(s,a){return this._getCachedCompiledPatterns(s,a).compile(s)}compileAG(s,a,f,o){return this._getCachedCompiledPatterns(s,a).compileAG(s,f,o)}_getCachedCompiledPatterns(s,a){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new y;for(const f of this.patterns)s.getRule(f).collectPatterns(s,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,a):this._cachedCompiledPatterns.setSource(0,a)),this._cachedCompiledPatterns}}r.BeginEndRule=L;class S extends m{constructor(s,a,f,o,g,_,j,x,G){super(s,a,f,o),this._begin=new C(g,this.id),this.beginCaptures=_,this.whileCaptures=x,this._while=new C(j,r.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=G.patterns,this.hasMissingPatterns=G.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(s,a){return this._while.resolveBackReferences(s,a)}collectPatterns(s,a){a.push(this._begin)}compile(s,a){return this._getCachedCompiledPatterns(s).compile(s)}compileAG(s,a,f,o){return this._getCachedCompiledPatterns(s).compileAG(s,f,o)}_getCachedCompiledPatterns(s){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new y;for(const a of this.patterns)s.getRule(a).collectPatterns(s,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(s,a){return this._getCachedCompiledWhilePatterns(s,a).compile(s)}compileWhileAG(s,a,f,o){return this._getCachedCompiledWhilePatterns(s,a).compileAG(s,f,o)}_getCachedCompiledWhilePatterns(s,a){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new y,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,a||""),this._cachedCompiledWhilePatterns}}r.BeginWhileRule=S;class w{static createCaptureRule(s,a,f,o,g){return s.registerRule(_=>new A(a,_,f,o,g))}static getCompiledRuleId(s,a,f){return s.id||a.registerRule(o=>{if(s.id=o,s.match)return new O(s.$vscodeTextmateLocation,s.id,s.name,s.match,w._compileCaptures(s.captures,a,f));if(s.begin===void 0){s.repository&&(f=h.mergeObjects({},f,s.repository));let g=s.patterns;return g===void 0&&s.include&&(g=[{include:s.include}]),new T(s.$vscodeTextmateLocation,s.id,s.name,s.contentName,w._compilePatterns(g,a,f))}return s.while?new S(s.$vscodeTextmateLocation,s.id,s.name,s.contentName,s.begin,w._compileCaptures(s.beginCaptures||s.captures,a,f),s.while,w._compileCaptures(s.whileCaptures||s.captures,a,f),w._compilePatterns(s.patterns,a,f)):new L(s.$vscodeTextmateLocation,s.id,s.name,s.contentName,s.begin,w._compileCaptures(s.beginCaptures||s.captures,a,f),s.end,w._compileCaptures(s.endCaptures||s.captures,a,f),s.applyEndPatternLast,w._compilePatterns(s.patterns,a,f))}),s.id}static _compileCaptures(s,a,f){let o=[];if(s){let g=0;for(const _ in s){if(_==="$vscodeTextmateLocation")continue;const j=parseInt(_,10);j>g&&(g=j)}for(let _=0;_<=g;_++)o[_]=null;for(const _ in s){if(_==="$vscodeTextmateLocation")continue;const j=parseInt(_,10);let x=0;s[_].patterns&&(x=w.getCompiledRuleId(s[_],a,f)),o[j]=w.createCaptureRule(a,s[_].$vscodeTextmateLocation,s[_].name,s[_].contentName,x)}}return o}static _compilePatterns(s,a,f){let o=[];if(s)for(let g=0,_=s.length;g<_;g++){const j=s[g];let x=-1;if(j.include){const G=l.parseInclude(j.include);switch(G.kind){case 0:case 1:x=w.getCompiledRuleId(f[j.include],a,f);break;case 2:let E=f[G.ruleName];E&&(x=w.getCompiledRuleId(E,a,f));break;case 3:case 4:const B=G.scopeName,H=G.kind===4?G.ruleName:null,X=a.getExternalGrammar(B,f);if(X)if(H){let q=X.repository[H];q&&(x=w.getCompiledRuleId(q,a,X.repository))}else x=w.getCompiledRuleId(X.repository.$self,a,X.repository)}}else x=w.getCompiledRuleId(j,a,f);if(x!==-1){const G=a.getRule(x);let E=!1;if((G instanceof T||G instanceof L||G instanceof S)&&G.hasMissingPatterns&&G.patterns.length===0&&(E=!0),E)continue;o.push(x)}}return{patterns:o,hasMissingPatterns:(s?s.length:0)!==o.length}}}r.RuleFactory=w;class C{constructor(s,a){if(s){const f=s.length;let o=0,g=[],_=!1;for(let j=0;j<f;j++)if(s.charAt(j)==="\\"&&j+1<f){const x=s.charAt(j+1);x==="z"?(g.push(s.substring(o,j)),g.push("$(?!\\n)(?<!\\n)"),o=j+2):x!=="A"&&x!=="G"||(_=!0),j++}this.hasAnchor=_,o===0?this.source=s:(g.push(s.substring(o,f)),this.source=g.join(""))}else this.hasAnchor=!1,this.source=s;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=a,this.hasBackReferences=v.test(this.source)}clone(){return new C(this.source,this.ruleId)}setSource(s){this.source!==s&&(this.source=s,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(s,a){let f=a.map(o=>s.substring(o.start,o.end));return k.lastIndex=0,this.source.replace(k,(o,g)=>h.escapeRegExpCharacters(f[parseInt(g,10)]||""))}_buildAnchorCache(){let s,a,f,o,g=[],_=[],j=[],x=[];for(s=0,a=this.source.length;s<a;s++)f=this.source.charAt(s),g[s]=f,_[s]=f,j[s]=f,x[s]=f,f==="\\"&&s+1<a&&(o=this.source.charAt(s+1),o==="A"?(g[s+1]="",_[s+1]="",j[s+1]="A",x[s+1]="A"):o==="G"?(g[s+1]="",_[s+1]="G",j[s+1]="",x[s+1]="G"):(g[s+1]=o,_[s+1]=o,j[s+1]=o,x[s+1]=o),s++);return{A0_G0:g.join(""),A0_G1:_.join(""),A1_G0:j.join(""),A1_G1:x.join("")}}resolveAnchors(s,a){return this.hasAnchor&&this._anchorCache?s?a?this._anchorCache.A1_G1:this._anchorCache.A1_G0:a?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}r.RegExpSource=C;class y{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(s){this._items.push(s),this._hasAnchors=this._hasAnchors||s.hasAnchor}unshift(s){this._items.unshift(s),this._hasAnchors=this._hasAnchors||s.hasAnchor}length(){return this._items.length}setSource(s,a){this._items[s].source!==a&&(this._disposeCaches(),this._items[s].setSource(a))}compile(s){if(!this._cached){let a=this._items.map(f=>f.source);this._cached=new b(s,a,this._items.map(f=>f.ruleId))}return this._cached}compileAG(s,a,f){return this._hasAnchors?a?f?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(s,a,f)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(s,a,f)),this._anchorCache.A1_G0):f?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(s,a,f)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(s,a,f)),this._anchorCache.A0_G0):this.compile(s)}_resolveAnchors(s,a,f){let o=this._items.map(g=>g.resolveAnchors(a,f));return new b(s,o,this._items.map(g=>g.ruleId))}}r.RegExpSourceList=y;class b{constructor(s,a,f){this.regExps=a,this.rules=f,this.scanner=s.createOnigScanner(a)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const s=[];for(let a=0,f=this.rules.length;a<f;a++)s.push("   - "+this.rules[a]+": "+this.regExps[a]);return s.join(`
`)}findNextMatchSync(s,a,f){const o=this.scanner.findNextMatchSync(s,a,f);return o?{ruleId:this.rules[o.index],captureIndices:o.captureIndices}:null}}r.CompiledRule=b},583:(u,r,c)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ThemeTrieElement=r.ThemeTrieElementRule=r.ColorMap=r.fontStyleToString=r.ParsedThemeRule=r.parseTheme=r.StyleAttributes=r.ScopeStack=r.Theme=void 0;const h=c(878);class l{constructor(y,b,p){this._colorMap=y,this._defaults=b,this._root=p,this._cachedMatchRoot=new h.CachedFn(s=>this._root.match(s))}static createFromRawTheme(y,b){return this.createFromParsedTheme(A(y),b)}static createFromParsedTheme(y,b){return function(p,s){p.sort((x,G)=>{let E=h.strcmp(x.scope,G.scope);return E!==0?E:(E=h.strArrCmp(x.parentScopes,G.parentScopes),E!==0?E:x.index-G.index)});let a=0,f="#000000",o="#ffffff";for(;p.length>=1&&p[0].scope==="";){let x=p.shift();x.fontStyle!==-1&&(a=x.fontStyle),x.foreground!==null&&(f=x.foreground),x.background!==null&&(o=x.background)}let g=new T(s),_=new m(a,g.getId(f),g.getId(o)),j=new w(new S(0,null,-1,0,0),[]);for(let x=0,G=p.length;x<G;x++){let E=p[x];j.insert(0,E.scope,E.parentScopes,E.fontStyle,g.getId(E.foreground),g.getId(E.background))}return new l(g,_,j)}(y,b)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(y){if(y===null)return this._defaults;const b=y.scopeName,p=this._cachedMatchRoot.get(b).find(s=>function(a,f){if(f.length===0)return!0;for(let o=0;o<f.length;o++){let g=f[o],_=!1;if(g===">"){if(o===f.length-1)return!1;g=f[++o],_=!0}for(;a&&!k(a.scopeName,g);){if(_)return!1;a=a.parent}if(!a)return!1;a=a.parent}return!0}(y.parent,s.parentScopes));return p?new m(p.fontStyle,p.foreground,p.background):null}}r.Theme=l;class v{constructor(y,b){this.parent=y,this.scopeName=b}static push(y,b){for(const p of b)y=new v(y,p);return y}static from(...y){let b=null;for(let p=0;p<y.length;p++)b=new v(b,y[p]);return b}push(y){return new v(this,y)}getSegments(){let y=this;const b=[];for(;y;)b.push(y.scopeName),y=y.parent;return b.reverse(),b}toString(){return this.getSegments().join(" ")}extends(y){return this===y||this.parent!==null&&this.parent.extends(y)}getExtensionIfDefined(y){const b=[];let p=this;for(;p&&p!==y;)b.push(p.scopeName),p=p.parent;return p===y?b.reverse():void 0}}function k(C,y){return y===C||C.startsWith(y)&&C[y.length]==="."}r.ScopeStack=v;class m{constructor(y,b,p){this.fontStyle=y,this.foregroundId=b,this.backgroundId=p}}function A(C){if(!C)return[];if(!C.settings||!Array.isArray(C.settings))return[];let y=C.settings,b=[],p=0;for(let s=0,a=y.length;s<a;s++){let f,o=y[s];if(!o.settings)continue;if(typeof o.scope=="string"){let x=o.scope;x=x.replace(/^[,]+/,""),x=x.replace(/[,]+$/,""),f=x.split(",")}else f=Array.isArray(o.scope)?o.scope:[""];let g=-1;if(typeof o.settings.fontStyle=="string"){g=0;let x=o.settings.fontStyle.split(" ");for(let G=0,E=x.length;G<E;G++)switch(x[G]){case"italic":g|=1;break;case"bold":g|=2;break;case"underline":g|=4;break;case"strikethrough":g|=8}}let _=null;typeof o.settings.foreground=="string"&&h.isValidHexColor(o.settings.foreground)&&(_=o.settings.foreground);let j=null;typeof o.settings.background=="string"&&h.isValidHexColor(o.settings.background)&&(j=o.settings.background);for(let x=0,G=f.length;x<G;x++){let E=f[x].trim().split(" "),B=E[E.length-1],H=null;E.length>1&&(H=E.slice(0,E.length-1),H.reverse()),b[p++]=new O(B,H,s,g,_,j)}}return b}r.StyleAttributes=m,r.parseTheme=A;class O{constructor(y,b,p,s,a,f){this.scope=y,this.parentScopes=b,this.index=p,this.fontStyle=s,this.foreground=a,this.background=f}}r.ParsedThemeRule=O,r.fontStyleToString=function(C){if(C===-1)return"not set";let y="";return 1&C&&(y+="italic "),2&C&&(y+="bold "),4&C&&(y+="underline "),8&C&&(y+="strikethrough "),y===""&&(y="none"),y.trim()};class T{constructor(y){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(y)){this._isFrozen=!0;for(let b=0,p=y.length;b<p;b++)this._color2id[y[b]]=b,this._id2color[b]=y[b]}else this._isFrozen=!1}getId(y){if(y===null)return 0;y=y.toUpperCase();let b=this._color2id[y];if(b)return b;if(this._isFrozen)throw new Error(`Missing color in color map - ${y}`);return b=++this._lastColorId,this._color2id[y]=b,this._id2color[b]=y,b}getColorMap(){return this._id2color.slice(0)}}r.ColorMap=T;const L=Object.freeze([]);class S{constructor(y,b,p,s,a){this.scopeDepth=y,this.parentScopes=b||L,this.fontStyle=p,this.foreground=s,this.background=a}clone(){return new S(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(y){let b=[];for(let p=0,s=y.length;p<s;p++)b[p]=y[p].clone();return b}acceptOverwrite(y,b,p,s){this.scopeDepth>y?console.log("how did this happen?"):this.scopeDepth=y,b!==-1&&(this.fontStyle=b),p!==0&&(this.foreground=p),s!==0&&(this.background=s)}}r.ThemeTrieElementRule=S;class w{constructor(y,b=[],p={}){this._mainRule=y,this._children=p,this._rulesWithParentScopes=b}static _cmpBySpecificity(y,b){if(y.scopeDepth!==b.scopeDepth)return b.scopeDepth-y.scopeDepth;let p=0,s=0;for(;y.parentScopes[p]===">"&&p++,b.parentScopes[s]===">"&&s++,!(p>=y.parentScopes.length||s>=b.parentScopes.length);){const a=b.parentScopes[s].length-y.parentScopes[p].length;if(a!==0)return a;p++,s++}return b.parentScopes.length-y.parentScopes.length}match(y){if(y!==""){let p,s,a=y.indexOf(".");if(a===-1?(p=y,s=""):(p=y.substring(0,a),s=y.substring(a+1)),this._children.hasOwnProperty(p))return this._children[p].match(s)}const b=this._rulesWithParentScopes.concat(this._mainRule);return b.sort(w._cmpBySpecificity),b}insert(y,b,p,s,a,f){if(b==="")return void this._doInsertHere(y,p,s,a,f);let o,g,_,j=b.indexOf(".");j===-1?(o=b,g=""):(o=b.substring(0,j),g=b.substring(j+1)),this._children.hasOwnProperty(o)?_=this._children[o]:(_=new w(this._mainRule.clone(),S.cloneArr(this._rulesWithParentScopes)),this._children[o]=_),_.insert(y+1,g,p,s,a,f)}_doInsertHere(y,b,p,s,a){if(b!==null){for(let f=0,o=this._rulesWithParentScopes.length;f<o;f++){let g=this._rulesWithParentScopes[f];if(h.strArrCmp(g.parentScopes,b)===0)return void g.acceptOverwrite(y,p,s,a)}p===-1&&(p=this._mainRule.fontStyle),s===0&&(s=this._mainRule.foreground),a===0&&(a=this._mainRule.background),this._rulesWithParentScopes.push(new S(y,b,p,s,a))}else this._mainRule.acceptOverwrite(y,p,s,a)}}r.ThemeTrieElement=w},878:(u,r)=>{function c(v){return Array.isArray(v)?function(k){let m=[];for(let A=0,O=k.length;A<O;A++)m[A]=c(k[A]);return m}(v):typeof v=="object"?function(k){let m={};for(let A in k)m[A]=c(k[A]);return m}(v):v}Object.defineProperty(r,"__esModule",{value:!0}),r.performanceNow=r.CachedFn=r.escapeRegExpCharacters=r.isValidHexColor=r.strArrCmp=r.strcmp=r.RegexSource=r.basename=r.mergeObjects=r.clone=void 0,r.clone=function(v){return c(v)},r.mergeObjects=function(v,...k){return k.forEach(m=>{for(let A in m)v[A]=m[A]}),v},r.basename=function v(k){const m=~k.lastIndexOf("/")||~k.lastIndexOf("\\");return m===0?k:~m==k.length-1?v(k.substring(0,k.length-1)):k.substr(1+~m)};let h=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function l(v,k){return v<k?-1:v>k?1:0}r.RegexSource=class{static hasCaptures(v){return v!==null&&(h.lastIndex=0,h.test(v))}static replaceCaptures(v,k,m){return v.replace(h,(A,O,T,L)=>{let S=m[parseInt(O||T,10)];if(!S)return A;{let w=k.substring(S.start,S.end);for(;w[0]===".";)w=w.substring(1);switch(L){case"downcase":return w.toLowerCase();case"upcase":return w.toUpperCase();default:return w}}})}},r.strcmp=l,r.strArrCmp=function(v,k){if(v===null&&k===null)return 0;if(!v)return-1;if(!k)return 1;let m=v.length,A=k.length;if(m===A){for(let O=0;O<m;O++){let T=l(v[O],k[O]);if(T!==0)return T}return 0}return m-A},r.isValidHexColor=function(v){return!!(/^#[0-9a-f]{6}$/i.test(v)||/^#[0-9a-f]{8}$/i.test(v)||/^#[0-9a-f]{3}$/i.test(v)||/^#[0-9a-f]{4}$/i.test(v))},r.escapeRegExpCharacters=function(v){return v.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},r.CachedFn=class{constructor(v){this.fn=v,this.cache=new Map}get(v){if(this.cache.has(v))return this.cache.get(v);const k=this.fn(v);return this.cache.set(v,k),k}},r.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},d={};return function u(r){var c=d[r];if(c!==void 0)return c.exports;var h=d[r]={exports:{}};return i[r].call(h.exports,h,h.exports,u),h.exports}(787)})())})(Hn);var Zt=Hn.exports;const qn=Un(Zt),sr=Zt.INITIAL||qn.INITIAL,rr=Zt.Registry||qn.Registry,ir=vt.loadWASM||Jt.loadWASM,or=vt.OnigScanner||Jt.OnigScanner,ar=vt.OnigString||Jt.OnigString,ln=e=>e!==e,un=e=>{if(e===null)return!0;const t=typeof e;return t!=="object"&&t!=="function"},cr=(e,t)=>{if(e===t)return!0;if(ln(e))return ln(t);if(un(e)||un(t))return e===t;for(const n in e)if(!(n in t))return!1;for(const n in t)if(e[n]!==t[n])return!1;return!0},Ht=e=>typeof e=="string",Ge=e=>{const t=new Map;return(...n)=>{const i=n[0],d=t.get(i);if(d!==void 0||t.has(i))return d;const u=e.apply(void 0,n);return t.set(i,u),u}},Ke=e=>{let t=!1,n;return()=>(t||(t=!0,n=e()),n)};class lr{constructor(t){this.fetch=Ke(async()=>{const n=await this.options.getOniguruma();return Ht(n)?await(await fetch(n)).arrayBuffer():n}),this.load=Ke(async()=>{const n=await this.fetch();await ir(n);const i=[];return{createOnigScanner:d=>{const u=d.length,r=d[0]||"",c=i[u]||(i[u]={}),h=c[r]||(c[r]=[]),l=h.find(([k])=>cr(d,k));if(l)return l[1];const v=new or(d);return h.push([d,v]),v},createOnigString:d=>new ar(d)}}),this.options=t}}class ur{constructor(t){this.fetchGrammar=Ge(async n=>{const i=await this.options.getGrammar(n);if(Ht(i))return await(await fetch(i)).json();if(i)return i;console.warn(`Missing grammar: "${n}"`)}),this.fetchTheme=Ge(async n=>{const i=await this.options.getTheme(n);if(Ht(i))return await(await fetch(i)).json();if(i)return i;console.warn(`Missing theme: "${n}"`)}),this.loadGrammar=Ge(async n=>await this.registry.loadGrammar(n)||void 0),this.loadTheme=Ge(async n=>{const i=await this.fetchTheme(n);return i?this.normalizeTheme(i):void 0}),this.loadThemeColors=Ge(async n=>{const i=await this.loadTheme(n);return i?(this.registry.setTheme(i),this.registry.getColorMap()):[]}),this.loadThemeColorsDefault=Ge(async n=>{const i=await this.fetchTheme(n),d=i?.colors?.["editor.background"]||i?.colors?.background||"#000000",u=i?.colors?.["editor.foreground"]||i?.colors?.foreground||"#ffffff";return{background:d,foreground:u}}),this.loadThemeDecorations=Ke(()=>["","","","","underline"]),this.loadThemeStyles=Ke(()=>["","italic","","",""]),this.loadThemeWeights=Ke(()=>["","","bold","",""]),this.normalizeTheme=Ge(async n=>(n||(n={name:"Fallback",settings:[]}),n.settings||(n.settings=n.tokenColors||[]),n.settings.unshift?.({settings:{background:n.colors?.["editor.background"]||n.colors?.background||"#000000",foreground:n.colors?.["editor.foreground"]||n.colors?.foreground||"#ffffff"}}),n)),this.setTheme=n=>{this.theme!==n&&(this.theme=n,this.registry.setTheme(n))},this.options=t,this.registry=new rr({onigLib:t.getOniguruma(),loadGrammar:this.fetchGrammar})}}let hr=0,Nt=!1,yt=new Map,{port1:Xn,port2:gr}=new MessageChannel;const dr=e=>{const t=hr+=1;return yt.set(t,e),Xn.onmessage=Kn,gr.postMessage(t),t},pr=e=>{yt.delete(e),!yt.size&&(Xn.onmessage=null)},Kn=e=>{const t=e.data,n=yt.get(t);if(n)if(Nt)setTimeout(Kn,0,t);else try{Nt=!0,n()}finally{Nt=!1,pr(t)}},fr=()=>()=>new Promise(dr),mr=()=>()=>new Promise(e=>{setTimeout(e,0)}),br=(e,t="timeout")=>{const n=t==="timeout"?mr():fr();let i=0;return()=>{const d=Date.now();if(i=i||d,!(d-i<e))return i=0,n()}},hn=br(10);class yr{constructor(t){this.tokenize=async(n,i,d,u,r)=>{const c=await this.registry.loadGrammar(i),h=await this.registry.loadTheme(d),l=await this.registry.loadThemeColors(d),v=this.registry.loadThemeDecorations(),k=this.registry.loadThemeStyles(),m=this.registry.loadThemeWeights();if(!c||!h)return;let A=sr;for(let O=0,T=n.length;O<T;O++){if(O%10===0&&await hn(),u?.aborted)return;this.registry.setTheme(h);const L=n[O],S=L.length,w=c.tokenizeLine2(L,A),C=new Array(w.tokens.length/2),y=w.tokens;for(let b=0,p=0,s=y.length;b<s;b+=2,p+=1){if(b%100===0&&await hn(),u?.aborted)return;const a=y[b],f=y[b+2]||S,o=L.substring(a,f),g=y[b+1],_=(g&8372224)>>>15,j=(g&4286578688)>>>24,x=(g&14336)>>>11,G=l[_]||"",E=l[j]||"",B=k[x]||"",H=m[x]||"",X=v[x]||"",q={value:o,startIndex:a,endIndex:f,color:G,backgroundColor:E,fontStyle:B,fontWeight:H,textDecoration:X};C[p]=q}A=w.ruleStack,r(C,O)}},this.registry=t}}class _r{constructor(t){this.highlightToAbstract=async(u,r)=>{const c=u.code.replace(/^(\r?\n|\r)+|(\r?\n|\r)+$/g,"").split(/\r?\n|\r/g),h=new Array(c.length).fill([]);await this.tokenize(c,u.grammar,u.theme,u.signal,(k,m)=>{h[m]=k});const l=u.background||(await this.registry.loadThemeColorsDefault(u.theme)).background;return r(h,{backgroundColor:l})},this.highlightToANSI=u=>this.highlightToAbstract(u,Hs),this.highlightToDOM=u=>this.highlightToAbstract(u,qs),this.highlightToHighlights=u=>this.highlightToAbstract(u,tr),this.highlightToHTML=u=>this.highlightToAbstract(u,nr),this.tokenize=(u,r,c,h,l)=>this.tokenizer.tokenize(u,r,c,h,l);const{getGrammar:n,getOniguruma:i,getTheme:d}=t;this.oniguruma=new lr({getOniguruma:i}),this.registry=new ur({getGrammar:n,getTheme:d,getOniguruma:()=>this.oniguruma.load()}),this.tokenizer=new yr(this.registry)}}const kr="https://unpkg.com/vscode-oniguruma@2.0.1/release/onig.wasm",Vn={"source.abap":"https://unpkg.com/shiki@^0.14.5/languages/abap.tmLanguage.json","source.actionscript.3":"https://unpkg.com/shiki@^0.14.5/languages/actionscript-3.tmLanguage.json","source.ada":"https://unpkg.com/shiki@^0.14.5/languages/ada.tmLanguage.json","source.apacheconf":"https://unpkg.com/shiki@^0.14.5/languages/apache.tmLanguage.json","source.apex":"https://unpkg.com/shiki@^0.14.5/languages/apex.tmLanguage.json","source.apl":"https://unpkg.com/shiki@^0.14.5/languages/apl.tmLanguage.json","source.applescript":"https://unpkg.com/shiki@^0.14.5/languages/applescript.tmLanguage.json","source.ara":"https://unpkg.com/shiki@^0.14.5/languages/ara.tmLanguage.json","source.asm.x86_64":"https://unpkg.com/shiki@^0.14.5/languages/asm.tmLanguage.json","source.astro":"https://unpkg.com/shiki@^0.14.5/languages/astro.tmLanguage.json","source.awk":"https://unpkg.com/shiki@^0.14.5/languages/awk.tmLanguage.json","source.ballerina":"https://unpkg.com/shiki@^0.14.5/languages/ballerina.tmLanguage.json","source.batchfile":"https://unpkg.com/shiki@^0.14.5/languages/bat.tmLanguage.json","text.beancount":"https://unpkg.com/shiki@^0.14.5/languages/beancount.tmLanguage.json","source.berry":"https://unpkg.com/shiki@^0.14.5/languages/berry.tmLanguage.json","text.bibtex":"https://unpkg.com/shiki@^0.14.5/languages/bibtex.tmLanguage.json","source.bicep":"https://unpkg.com/shiki@^0.14.5/languages/bicep.tmLanguage.json","text.html.php.blade":"https://unpkg.com/shiki@^0.14.5/languages/blade.tmLanguage.json","source.c":"https://unpkg.com/shiki@^0.14.5/languages/c.tmLanguage.json","source.cadence":"https://unpkg.com/shiki@^0.14.5/languages/cadence.tmLanguage.json","source.clar":"https://unpkg.com/shiki@^0.14.5/languages/clarity.tmLanguage.json","source.clojure":"https://unpkg.com/shiki@^0.14.5/languages/clojure.tmLanguage.json","source.cmake":"https://unpkg.com/shiki@^0.14.5/languages/cmake.tmLanguage.json","source.cobol":"https://unpkg.com/shiki@^0.14.5/languages/cobol.tmLanguage.json","source.ql":"https://unpkg.com/shiki@^0.14.5/languages/codeql.tmLanguage.json","source.coffee":"https://unpkg.com/shiki@^0.14.5/languages/coffee.tmLanguage.json","source.cpp.embedded.macro":"https://unpkg.com/shiki@^0.14.5/languages/cpp-macro.tmLanguage.json","source.cpp":"https://unpkg.com/shiki@^0.14.5/languages/cpp.tmLanguage.json","source.crystal":"https://unpkg.com/shiki@^0.14.5/languages/crystal.tmLanguage.json","source.cs":"https://unpkg.com/shiki@^0.14.5/languages/csharp.tmLanguage.json","source.css":"https://unpkg.com/shiki@^0.14.5/languages/css.tmLanguage.json","source.cue":"https://unpkg.com/shiki@^0.14.5/languages/cue.tmLanguage.json","source.cypher":"https://unpkg.com/shiki@^0.14.5/languages/cypher.tmLanguage.json","source.d":"https://unpkg.com/shiki@^0.14.5/languages/d.tmLanguage.json","source.dart":"https://unpkg.com/shiki@^0.14.5/languages/dart.tmLanguage.json","source.dax":"https://unpkg.com/shiki@^0.14.5/languages/dax.tmLanguage.json","source.diff":"https://unpkg.com/shiki@^0.14.5/languages/diff.tmLanguage.json","source.dockerfile":"https://unpkg.com/shiki@^0.14.5/languages/docker.tmLanguage.json","source.dm":"https://unpkg.com/shiki@^0.14.5/languages/dream-maker.tmLanguage.json","source.elixir":"https://unpkg.com/shiki@^0.14.5/languages/elixir.tmLanguage.json","source.elm":"https://unpkg.com/shiki@^0.14.5/languages/elm.tmLanguage.json","text.html.erb":"https://unpkg.com/shiki@^0.14.5/languages/erb.tmLanguage.json","source.erlang":"https://unpkg.com/shiki@^0.14.5/languages/erlang.tmLanguage.json","source.fish":"https://unpkg.com/shiki@^0.14.5/languages/fish.tmLanguage.json","source.fsharp":"https://unpkg.com/shiki@^0.14.5/languages/fsharp.tmLanguage.json","source.gdresource":"https://unpkg.com/shiki@^0.14.5/languages/gdresource.tmLanguage.json","source.gdscript":"https://unpkg.com/shiki@^0.14.5/languages/gdscript.tmLanguage.json","source.gdshader":"https://unpkg.com/shiki@^0.14.5/languages/gdshader.tmLanguage.json","text.gherkin.feature":"https://unpkg.com/shiki@^0.14.5/languages/gherkin.tmLanguage.json","text.git-commit":"https://unpkg.com/shiki@^0.14.5/languages/git-commit.tmLanguage.json","text.git-rebase":"https://unpkg.com/shiki@^0.14.5/languages/git-rebase.tmLanguage.json","source.gjs":"https://unpkg.com/shiki@^0.14.5/languages/glimmer-js.tmLanguage.json","source.gts":"https://unpkg.com/shiki@^0.14.5/languages/glimmer-ts.tmLanguage.json","source.glsl":"https://unpkg.com/shiki@^0.14.5/languages/glsl.tmLanguage.json","source.gnuplot":"https://unpkg.com/shiki@^0.14.5/languages/gnuplot.tmLanguage.json","source.go":"https://unpkg.com/shiki@^0.14.5/languages/go.tmLanguage.json","source.graphql":"https://unpkg.com/shiki@^0.14.5/languages/graphql.tmLanguage.json","source.groovy":"https://unpkg.com/shiki@^0.14.5/languages/groovy.tmLanguage.json","source.hack":"https://unpkg.com/shiki@^0.14.5/languages/hack.tmLanguage.json","text.haml":"https://unpkg.com/shiki@^0.14.5/languages/haml.tmLanguage.json","text.html.handlebars":"https://unpkg.com/shiki@^0.14.5/languages/handlebars.tmLanguage.json","source.haskell":"https://unpkg.com/shiki@^0.14.5/languages/haskell.tmLanguage.json","source.hcl":"https://unpkg.com/shiki@^0.14.5/languages/hcl.tmLanguage.json","source.hjson":"https://unpkg.com/shiki@^0.14.5/languages/hjson.tmLanguage.json","source.hlsl":"https://unpkg.com/shiki@^0.14.5/languages/hlsl.tmLanguage.json","text.html.basic":"https://unpkg.com/shiki@^0.14.5/languages/html.tmLanguage.json","source.http":"https://unpkg.com/shiki@^0.14.5/languages/http.tmLanguage.json","source.imba":"https://unpkg.com/shiki@^0.14.5/languages/imba.tmLanguage.json","source.ini":"https://unpkg.com/shiki@^0.14.5/languages/ini.tmLanguage.json","source.java":"https://unpkg.com/shiki@^0.14.5/languages/java.tmLanguage.json","source.js":"https://unpkg.com/shiki@^0.14.5/languages/javascript.tmLanguage.json","text.html.jinja":"https://unpkg.com/shiki@^0.14.5/languages/jinja-html.tmLanguage.json","source.jinja":"https://unpkg.com/shiki@^0.14.5/languages/jinja.tmLanguage.json","source.jison":"https://unpkg.com/shiki@^0.14.5/languages/jison.tmLanguage.json","source.json":"https://unpkg.com/shiki@^0.14.5/languages/json.tmLanguage.json","source.json5":"https://unpkg.com/shiki@^0.14.5/languages/json5.tmLanguage.json","source.json.comments":"https://unpkg.com/shiki@^0.14.5/languages/jsonc.tmLanguage.json","source.json.lines":"https://unpkg.com/shiki@^0.14.5/languages/jsonl.tmLanguage.json","source.jsonnet":"https://unpkg.com/shiki@^0.14.5/languages/jsonnet.tmLanguage.json","source.jssm":"https://unpkg.com/shiki@^0.14.5/languages/jssm.tmLanguage.json","source.js.jsx":"https://unpkg.com/shiki@^0.14.5/languages/jsx.tmLanguage.json","source.julia":"https://unpkg.com/shiki@^0.14.5/languages/julia.tmLanguage.json","source.kotlin":"https://unpkg.com/shiki@^0.14.5/languages/kotlin.tmLanguage.json","source.kusto":"https://unpkg.com/shiki@^0.14.5/languages/kusto.tmLanguage.json","text.tex.latex":"https://unpkg.com/shiki@^0.14.5/languages/latex.tmLanguage.json","source.css.less":"https://unpkg.com/shiki@^0.14.5/languages/less.tmLanguage.json","text.html.liquid":"https://unpkg.com/shiki@^0.14.5/languages/liquid.tmLanguage.json","source.lisp":"https://unpkg.com/shiki@^0.14.5/languages/lisp.tmLanguage.json","source.logo":"https://unpkg.com/shiki@^0.14.5/languages/logo.tmLanguage.json","source.lua":"https://unpkg.com/shiki@^0.14.5/languages/lua.tmLanguage.json","source.makefile":"https://unpkg.com/shiki@^0.14.5/languages/make.tmLanguage.json","text.html.markdown":"https://unpkg.com/shiki@^0.14.5/languages/markdown.tmLanguage.json","text.marko":"https://unpkg.com/shiki@^0.14.5/languages/marko.tmLanguage.json","source.matlab":"https://unpkg.com/shiki@^0.14.5/languages/matlab.tmLanguage.json","text.markdown.mdc":"https://unpkg.com/shiki@^0.14.5/languages/mdc.tmLanguage.json","source.mdx":"https://unpkg.com/shiki@^0.14.5/languages/mdx.tmLanguage.json","source.mermaid":"https://unpkg.com/shiki@^0.14.5/languages/mermaid.tmLanguage.json","source.mojo":"https://unpkg.com/shiki@^0.14.5/languages/mojo.tmLanguage.json","source.narrat":"https://unpkg.com/shiki@^0.14.5/languages/narrat.tmLanguage.json","source.nextflow":"https://unpkg.com/shiki@^0.14.5/languages/nextflow.tmLanguage.json","source.nginx":"https://unpkg.com/shiki@^0.14.5/languages/nginx.tmLanguage.json","source.nim":"https://unpkg.com/shiki@^0.14.5/languages/nim.tmLanguage.json","source.nix":"https://unpkg.com/shiki@^0.14.5/languages/nix.tmLanguage.json","source.objc":"https://unpkg.com/shiki@^0.14.5/languages/objective-c.tmLanguage.json","source.objcpp":"https://unpkg.com/shiki@^0.14.5/languages/objective-cpp.tmLanguage.json","source.ocaml":"https://unpkg.com/shiki@^0.14.5/languages/ocaml.tmLanguage.json","source.pascal":"https://unpkg.com/shiki@^0.14.5/languages/pascal.tmLanguage.json","source.perl":"https://unpkg.com/shiki@^0.14.5/languages/perl.tmLanguage.json","text.html.php":"https://unpkg.com/shiki@^0.14.5/languages/php-html.tmLanguage.json","source.php":"https://unpkg.com/shiki@^0.14.5/languages/php.tmLanguage.json","source.plsql.oracle":"https://unpkg.com/shiki@^0.14.5/languages/plsql.tmLanguage.json","source.css.postcss":"https://unpkg.com/shiki@^0.14.5/languages/postcss.tmLanguage.json","source.powerquery":"https://unpkg.com/shiki@^0.14.5/languages/powerquery.tmLanguage.json","source.powershell":"https://unpkg.com/shiki@^0.14.5/languages/powershell.tmLanguage.json","source.prisma":"https://unpkg.com/shiki@^0.14.5/languages/prisma.tmLanguage.json","source.prolog":"https://unpkg.com/shiki@^0.14.5/languages/prolog.tmLanguage.json","source.proto":"https://unpkg.com/shiki@^0.14.5/languages/proto.tmLanguage.json","text.pug":"https://unpkg.com/shiki@^0.14.5/languages/pug.tmLanguage.json","source.puppet":"https://unpkg.com/shiki@^0.14.5/languages/puppet.tmLanguage.json","source.purescript":"https://unpkg.com/shiki@^0.14.5/languages/purescript.tmLanguage.json","source.python":"https://unpkg.com/shiki@^0.14.5/languages/python.tmLanguage.json","source.r":"https://unpkg.com/shiki@^0.14.5/languages/r.tmLanguage.json","source.perl.6":"https://unpkg.com/shiki@^0.14.5/languages/raku.tmLanguage.json","text.aspnetcorerazor":"https://unpkg.com/shiki@^0.14.5/languages/razor.tmLanguage.json","source.reg":"https://unpkg.com/shiki@^0.14.5/languages/reg.tmLanguage.json","source.rel":"https://unpkg.com/shiki@^0.14.5/languages/rel.tmLanguage.json","source.riscv":"https://unpkg.com/shiki@^0.14.5/languages/riscv.tmLanguage.json","source.rst":"https://unpkg.com/shiki@^0.14.5/languages/rst.tmLanguage.json","source.ruby":"https://unpkg.com/shiki@^0.14.5/languages/ruby.tmLanguage.json","source.rust":"https://unpkg.com/shiki@^0.14.5/languages/rust.tmLanguage.json","source.sas":"https://unpkg.com/shiki@^0.14.5/languages/sas.tmLanguage.json","source.sass":"https://unpkg.com/shiki@^0.14.5/languages/sass.tmLanguage.json","source.scala":"https://unpkg.com/shiki@^0.14.5/languages/scala.tmLanguage.json","source.scheme":"https://unpkg.com/shiki@^0.14.5/languages/scheme.tmLanguage.json","source.css.scss":"https://unpkg.com/shiki@^0.14.5/languages/scss.tmLanguage.json","source.shaderlab":"https://unpkg.com/shiki@^0.14.5/languages/shaderlab.tmLanguage.json","source.shell":"https://unpkg.com/shiki@^0.14.5/languages/shellscript.tmLanguage.json","text.shell-session":"https://unpkg.com/shiki@^0.14.5/languages/shellsession.tmLanguage.json","source.smalltalk":"https://unpkg.com/shiki@^0.14.5/languages/smalltalk.tmLanguage.json","source.solidity":"https://unpkg.com/shiki@^0.14.5/languages/solidity.tmLanguage.json","source.sparql":"https://unpkg.com/shiki@^0.14.5/languages/sparql.tmLanguage.json","source.splunk_search":"https://unpkg.com/shiki@^0.14.5/languages/splunk.tmLanguage.json","source.sql":"https://unpkg.com/shiki@^0.14.5/languages/sql.tmLanguage.json","source.ssh-config":"https://unpkg.com/shiki@^0.14.5/languages/ssh-config.tmLanguage.json","source.stata":"https://unpkg.com/shiki@^0.14.5/languages/stata.tmLanguage.json","source.stylus":"https://unpkg.com/shiki@^0.14.5/languages/stylus.tmLanguage.json","source.svelte":"https://unpkg.com/shiki@^0.14.5/languages/svelte.tmLanguage.json","source.swift":"https://unpkg.com/shiki@^0.14.5/languages/swift.tmLanguage.json","source.systemverilog":"https://unpkg.com/shiki@^0.14.5/languages/system-verilog.tmLanguage.json","source.tasl":"https://unpkg.com/shiki@^0.14.5/languages/tasl.tmLanguage.json","source.tcl":"https://unpkg.com/shiki@^0.14.5/languages/tcl.tmLanguage.json","text.tex":"https://unpkg.com/shiki@^0.14.5/languages/tex.tmLanguage.json","source.toml":"https://unpkg.com/shiki@^0.14.5/languages/toml.tmLanguage.json","source.tsx":"https://unpkg.com/shiki@^0.14.5/languages/tsx.tmLanguage.json","source.turtle":"https://unpkg.com/shiki@^0.14.5/languages/turtle.tmLanguage.json","text.html.twig":"https://unpkg.com/shiki@^0.14.5/languages/twig.tmLanguage.json","source.ts":"https://unpkg.com/shiki@^0.14.5/languages/typescript.tmLanguage.json","source.v":"https://unpkg.com/shiki@^0.14.5/languages/v.tmLanguage.json","source.asp.vb.net":"https://unpkg.com/shiki@^0.14.5/languages/vb.tmLanguage.json","source.verilog":"https://unpkg.com/shiki@^0.14.5/languages/verilog.tmLanguage.json","source.vhdl":"https://unpkg.com/shiki@^0.14.5/languages/vhdl.tmLanguage.json","source.viml":"https://unpkg.com/shiki@^0.14.5/languages/viml.tmLanguage.json","text.html.vue-html":"https://unpkg.com/shiki@^0.14.5/languages/vue-html.tmLanguage.json","source.vue":"https://unpkg.com/shiki@^0.14.5/languages/vue.tmLanguage.json","source.vyper":"https://unpkg.com/shiki@^0.14.5/languages/vyper.tmLanguage.json","source.wat":"https://unpkg.com/shiki@^0.14.5/languages/wasm.tmLanguage.json","source.wenyan":"https://unpkg.com/shiki@^0.14.5/languages/wenyan.tmLanguage.json","source.wgsl":"https://unpkg.com/shiki@^0.14.5/languages/wgsl.tmLanguage.json","source.wolfram":"https://unpkg.com/shiki@^0.14.5/languages/wolfram.tmLanguage.json","text.xml":"https://unpkg.com/shiki@^0.14.5/languages/xml.tmLanguage.json","text.xml.xsl":"https://unpkg.com/shiki@^0.14.5/languages/xsl.tmLanguage.json","source.yaml":"https://unpkg.com/shiki@^0.14.5/languages/yaml.tmLanguage.json","source.zenscript":"https://unpkg.com/shiki@^0.14.5/languages/zenscript.tmLanguage.json","source.zig":"https://unpkg.com/shiki@^0.14.5/languages/zig.tmLanguage.json"},Yn={"css-variables":"https://unpkg.com/shiki@^0.14.5/themes/css-variables.json","dark-plus":"https://unpkg.com/shiki@^0.14.5/themes/dark-plus.json","dracula-soft":"https://unpkg.com/shiki@^0.14.5/themes/dracula-soft.json",dracula:"https://unpkg.com/shiki@^0.14.5/themes/dracula.json","github-dark-dimmed":"https://unpkg.com/shiki@^0.14.5/themes/github-dark-dimmed.json","github-dark":"https://unpkg.com/shiki@^0.14.5/themes/github-dark.json","github-light":"https://unpkg.com/shiki@^0.14.5/themes/github-light.json",hc_light:"https://unpkg.com/shiki@^0.14.5/themes/hc_light.json","light-plus":"https://unpkg.com/shiki@^0.14.5/themes/light-plus.json","material-theme-darker":"https://unpkg.com/shiki@^0.14.5/themes/material-theme-darker.json","material-theme-lighter":"https://unpkg.com/shiki@^0.14.5/themes/material-theme-lighter.json","material-theme-ocean":"https://unpkg.com/shiki@^0.14.5/themes/material-theme-ocean.json","material-theme-palenight":"https://unpkg.com/shiki@^0.14.5/themes/material-theme-palenight.json","material-theme":"https://unpkg.com/shiki@^0.14.5/themes/material-theme.json","min-dark":"https://unpkg.com/shiki@^0.14.5/themes/min-dark.json","min-light":"https://unpkg.com/shiki@^0.14.5/themes/min-light.json",monokai:"https://unpkg.com/shiki@^0.14.5/themes/monokai.json",nord:"https://unpkg.com/shiki@^0.14.5/themes/nord.json","one-dark-pro":"https://unpkg.com/shiki@^0.14.5/themes/one-dark-pro.json",poimandres:"https://unpkg.com/shiki@^0.14.5/themes/poimandres.json","rose-pine-dawn":"https://unpkg.com/shiki@^0.14.5/themes/rose-pine-dawn.json","rose-pine-moon":"https://unpkg.com/shiki@^0.14.5/themes/rose-pine-moon.json","rose-pine":"https://unpkg.com/shiki@^0.14.5/themes/rose-pine.json","slack-dark":"https://unpkg.com/shiki@^0.14.5/themes/slack-dark.json","slack-ochin":"https://unpkg.com/shiki@^0.14.5/themes/slack-ochin.json","solarized-dark":"https://unpkg.com/shiki@^0.14.5/themes/solarized-dark.json","solarized-light":"https://unpkg.com/shiki@^0.14.5/themes/solarized-light.json","vitesse-dark":"https://unpkg.com/shiki@^0.14.5/themes/vitesse-dark.json","vitesse-light":"https://unpkg.com/shiki@^0.14.5/themes/vitesse-light.json"},Sr=e=>e.match(/^\n+/)?.[0].length||0;function wr(e){const t=e.split(`
`);let n=0;for(const i of t)i.length>n&&(n=i.length);return n}var vr=Ze("<div part=root><code></code><textarea part=textarea autocomplete=off inputmode=none>"),Tr=Ze("<pre>");const Ar=new _r({getGrammar:e=>Vn[e],getTheme:e=>Yn[e],getOniguruma:()=>kr}),gn=10;function Qn(e){return function(n){const[i,d]=_s(n,["class","grammar","onInput","value","style","theme","editable","onScroll"]);let u;const[r,c]=le(i.value),[h]=os(r,async C=>`
`.repeat(Sr(C))+await Ar.highlightToHTML({code:C,grammar:n.grammar,theme:n.theme})),l=ye(()=>h()?.replace(/<pre[^>]*>/,"").replace(/<\/pre>/,"").split(`
`)),v=ye(()=>wr(r())),k=ye(()=>r().split(`
`).length),[m,A]=le(),[O,T]=le(0),L=ye(()=>Math.floor(O()/n.lineHeight)),S=ye(()=>Math.floor((O()+(m()?.height||0))/n.lineHeight)),w=as(()=>[L(),S()],(C,[y,b])=>C+gn>y&&C-gn<b);return cs(()=>{new ResizeObserver(([y])=>A(y?.contentRect)).observe(u)}),de(()=>c(i.value)),(()=>{var C=vr(),y=C.firstChild,b=y.nextSibling;C.addEventListener("scroll",a=>{T(a.currentTarget.scrollTop),n.onScroll?.(a)});var p=u;typeof p=="function"?Wt(p,C):u=C,Ns(C,ys({get class(){return Ms(e.container,i.class)},get style(){return{background:"white","line-height":`${n.lineHeight}px`,"--line-size":v(),"--line-count":k(),...i.style}}},d),!1),we(y,Le(Ss,{get each(){return l()},children:(a,f)=>Le(Mn,{get when(){return ye(()=>!!a())()&&w(f)},get children(){var o=Tr();return de(g=>{var _=e.segment,j=a(),x=`${f*n.lineHeight}px`;return _!==g.e&&lt(o,g.e=_),j!==g.t&&(o.innerHTML=g.t=j),x!==g.a&&((g.a=x)!=null?o.style.setProperty("top",x):o.style.removeProperty("top")),g},{e:void 0,t:void 0,a:void 0}),o}})})),b.$$keydown=a=>{if(a.key==="Enter"){a.preventDefault();const f=u.scrollTop,o=a.currentTarget.selectionStart,g=a.currentTarget.selectionEnd,_=a.currentTarget.value;a.currentTarget.value=c(_.substring(0,o)+`
`+_.substring(g)),a.currentTarget.selectionStart=a.currentTarget.selectionEnd=o+1,u.scrollTop=f}},b.addEventListener("scroll",a=>{a.preventDefault(),a.stopPropagation()});var s=n.textareaRef;return typeof s=="function"?Wt(s,b):n.textareaRef=b,mt(b,"spellcheck",!1),b.addEventListener("input",a=>{const o=a.currentTarget.value;c(o),i.onInput?.(a)}),de(a=>{var f=e.segments,o=e.textarea,g=!i.editable;return f!==a.e&&lt(y,a.e=f),o!==a.t&&lt(b,a.t=o),g!==a.a&&(b.disabled=a.a=g),a},{e:void 0,t:void 0,a:void 0}),de(()=>b.value=i.value),C})()}}Yt(["keydown"]);const Cr="_container_1ib4o_4",Lr="_segments_1ib4o_25",Ir="_segment_1ib4o_25",jr="_textarea_1ib4o_52",Or={container:Cr,segments:Lr,segment:Ir,textarea:jr},xr=Qn(Or);function Pr(e){const[t,n]=le(!0);return He(()=>t()&&e()),{stop:()=>n(!1),resume:()=>n(!0)}}function Nr(e){return class extends e{#n=new Set;createEffect(n){this.#s(n)}stopEffects(){this.#i()}#a(n){let i=null;i=Pr(()=>{i&&this.#n.add(i),He(n),St(()=>this.#n.delete(i))}),this.#n.add(i)}#r(){for(const n of this.#n)n.stop()}#t=null;#e=null;#s(n){if(!this.#t)Me(i=>{this.#t=Mt(),this.#e=i,this.#s(n)});else{let i=Mt();for(;i&&i!==this.#t;)i=i?.owner??null;if(i===this.#t)return He(n);us(this.#t,()=>He(n))}}#i(){this.#e?.()}}}function Er(e,t){let n=e,i;for(;n;){if(i=Object.getOwnPropertyDescriptor(n,t),i)return i.owner=n,i;n=n.__proto__}}const ct=new WeakMap;function Rr(e,...t){const n=t.length?t:Object.keys(e).concat(Object.getOwnPropertySymbols(e));for(const i of n)Jn(e,i);return e}let dn=!1;function $r(){if(dn)throw new Error('Export "createSignalAccessor" is internal to classy-solid only.');return dn=!0,Jn}const ut=new WeakMap;function Gr(e,t){return!!ut.get(e)?.has(t)}function pn(e,t){ut.has(e)||ut.set(e,new Set),ut.get(e).add(t)}const fn=new WeakSet;function Jn(e,t,n=fe(()=>e[t]),i=!1){if(!i&&ct.get(e)?.has(t)||e[Ye])return;let u=Er(e,t),r,c;if(u){if(r=u.get,c=u.set,r&&fn.has(r))return;if(r||c){if(!r||!c){console.warn(`The \`@signal\` decorator was used on an accessor named "${t.toString()}" which had a getter or a setter, but not both. Reactivity on accessors works only when accessors have both get and set. In this case the decorator does not do anything.`);return}delete u.get,delete u.set}else{if(n=u.value,!u.writable){console.warn(`The \`@signal\` decorator was used on a property named "${t.toString()}" that is not writable. Reactivity is not enabled for non-writable properties.`);return}delete u.value,delete u.writable}}const h=le(n,{equals:!1});u={configurable:!0,enumerable:!0,...u,get:r?function(){return h[0](),r.call(this)}:function(){return h[0]()},set:c?function(l){c.call(this,l),pn(this,t),typeof l=="function"?h[1](()=>l):h[1](l)}:function(l){pn(this,t),typeof l=="function"?h[1](()=>l):h[1](l)}},fn.add(u.get),Object.defineProperty(e,t,u),ct.has(e)||ct.set(e,new Set),ct.get(e).add(t)}let Tt=new Map,Ve=null;function Mr(){if(Ve)throw new Error("Attempted use of classy-solid internals.");return Ve=Symbol(),Ve}function Dr(e){if(e!==Ve)throw new Error("Attempted use of classy-solid internals.");return Tt}function Br(e){if(e!==Ve)throw new Error("Attempted use of classy-solid internals.");Tt=new Map}function Fr(e){return"private"in e}function qt(e,t){const{kind:n,name:i}=t,d=Tt;if(Fr(t)){if(t.private)throw new Error("@signal is not supported on private fields yet.");if(t.static)throw new Error("@signal is not supported on static fields yet.")}if(n==="field")return d.set(i,{initialValue:void 0}),function(u){return d.get(i).initialValue=u,u};if(n==="getter"||n==="setter")d.set(i,{initialValue:void 0});else throw new Error("The @signal decorator is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.");Wr(d)}let Et=!1;function Wr(e){Et||(Et=!0,queueMicrotask(()=>{if(Et=!1,e===Tt)throw new Error(`Stray @signal-decorated properties detected: ${Array.from(e.keys()).join(", ")}. Did you forget to use the \`@reactive\` decorator on a class that has properties decorated with \`@signal\`?`)}))}const mn=Mr(),Ur=$r(),bn=Object.prototype.hasOwnProperty;function zr(e,t){if(typeof e!="function"||t&&t.kind!=="class")throw new TypeError("The @reactive decorator is only for use on classes.");const n=e,i=Dr(mn);Br(mn);class d extends n{constructor(...r){let c;ls()?fe(()=>c=Reflect.construct(n,r,new.target)):(super(...r),c=this);for(const[h,{initialValue:l}]of i){if(!(bn.call(c,h)||bn.call(n.prototype,h)))throw new Error(`Property "${h.toString()}" not found on instance of class decorated with \`@reactive\`. Did you forget to use the \`@reactive\` decorator on one of your classes that has a "${h.toString()}" property decorated with \`@signal\`?`);Ur(c,h,l,!0)}return c}}return d}var Xe;let qe;const Hr=globalThis.HTMLElement??class{constructor(){throw new Error("@lume/element needs a DOM to operate with! If this code is running during server-side rendering, it means your app is trying to instantiate elements when it shouldn't be, and should be refactored to avoid doing that when no DOM is present.")}},Ce=Symbol("root");class _t extends Nr(Hr){static elementName="";static defineElement(t,n=customElements){if(t){if(n.get(t))return console.warn(`defineElement(): An element class was already defined for tag name ${t}.`),this;{const i=class extends this{};return i.elementName=t,n.define(t,i),i}}else return t=this.elementName,n.get(t)?(console.warn(`defineElement(): An element class was already defined for tag name ${t}.`),this):(n.define(t,this),this)}static observedAttributes;static observedAttributeHandlers;#n(){const t=Object.keys(this);this._preUpgradeValues=new Map;for(const n of t){const i=Object.getOwnPropertyDescriptor(this,n);"value"in i&&(delete this[n],this._preUpgradeValues.set(n,i.value),queueMicrotask(()=>{if(Gr(this,n))return;n in this.__proto__&&(this[n]=i.value)}))}}#a=this.#n();hasShadow=!0;[Ce]=null;get root(){return this.hasShadow?this[Ce]?this[Ce]:this.shadowRoot?this[Ce]=this.shadowRoot:this[Ce]=this.attachShadow({mode:"open"}):this}set root(t){if(!this.hasShadow)throw new Error("Can not set root, element.hasShadow is false.");if(this[Ce]||this.shadowRoot)throw new Error("Element root can only be set once if there is no ShadowRoot.");this[Ce]=t}get styleRoot(){return this.root}attachShadow(t){return this[Ce]&&console.warn("Element already has a root defined."),this[Ce]=super.attachShadow(t)}#r;connectedCallback(){const t=this.template;t&&(this.#r=Dn(typeof t=="function"?t.bind(this):()=>t,this.root)),this.#l()}disconnectedCallback(){this.stopEffects(),this.#r?.(),this.#u()}static#t=new WeakMap;#e=null;#s=t=>`${t} {
		display: block;
	}`;static#i=0;#c=Xe.#i++;#o=null;#l(){qe=this.constructor;const t=typeof qe.css=="function"?qe.css=qe.css():qe.css||"",n=typeof this.css=="function"?this.css():this.css||"";if(this.hasShadow){const i=":host",d=document.createElement("style");d.innerHTML=`
				${this.#s(i)}
				${t}
				${n}
			`,this.styleRoot.appendChild(d)}else{const i=this.getRootNode();this.#e=i===document?document.head:i;let d=Xe.#t.get(this.#e);d||Xe.#t.set(this.#e,d={});const u=d[this.tagName]||0;if(d[this.tagName]=u+1,u===0){const r=this.tagName.toLowerCase(),c=document.createElement("style");c.innerHTML=`
					${this.#s(r)}
					${t&&t.replaceAll(":host",r)}
				`,c.id=this.tagName.toLowerCase(),this.#e.appendChild(c)}if(n){const r=this.tagName.toLowerCase()+"-"+this.#c;this.setAttribute(r,"");const c=this.#o=document.createElement("style");c.id=r,c.innerHTML=n.replaceAll(":host",`[${r}]`);const h=this.getRootNode();this.#e=h===document?document.head:h,this.#e.appendChild(c)}}}#u(){do{if(this.hasShadow)break;const t=Xe.#t.get(this.#e);if(!t)break;let n=t[this.tagName];if(n===void 0)break;t[this.tagName]=--n,n===0&&(delete t[this.tagName],this.#e.querySelector("#"+this.tagName)?.remove())}while(!1);this.#o&&this.#o.remove()}adoptedCallback(){}}Xe=_t;Symbol.metadata??=Symbol.for("Symbol.metadata");function qr(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function Xr(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0,enumerable:!0})}const Xt=[];function Te(e,t){if(arguments.length===2)return yn(e,t,void 0);const n=e;return(i,d)=>yn(i,d,n)}function yn(e,t,n={}){const{kind:i,name:d,private:u,static:r,metadata:c}=t,l=!(Object.hasOwn(c,"noSignal")&&c.noSignal||void 0)?.has(d);if(typeof d=="symbol")throw new Error("@attribute is not supported on symbol fields yet.");if(u)throw new Error("@attribute is not supported on private fields yet.");if(r)throw new Error("@attribute is not supported on static fields.");if(Xt.push(v=>Kt(v,d,n)),i==="field"){const v=l?qt(e,t):k=>k;return function(k){return k=v(k),"default"in n||(n.default=k),k}}else if(i==="getter"||i==="setter")l&&qt(e,t);else throw new Error("@attribute is only for use on fields, getters, and setters. Auto accessor support is coming next if there is demand for it.")}function Kt(e,t,n){if(!e.observedAttributes||!e.hasOwnProperty("observedAttributes")){const d=e.__proto__.observedAttributes;if(d&&!Array.isArray(d))throw new TypeError("observedAttributes is in the wrong format. Did you forget to decorate your custom element class with the `@element` decorator?");Xr(e,"observedAttributes",[...d||[]])}if(!Array.isArray(e.observedAttributes))throw new TypeError("observedAttributes is in the wrong format. Maybe you forgot to decorate your custom element class with the `@element` decorator.");const i=qr(t);e.observedAttributes.includes(i)||e.observedAttributes.push(i),Kr(e.prototype,i,t,n)}const _n=Symbol("hasAttributeChangedCallback"),ze=Symbol("attributesToProps");function Kr(e,t,n,i){if(!e[_n]){e[_n]=!0;const d=e.attributeChangedCallback;e.attributeChangedCallback=function(u,r,c){d?d.call(this,u,r,c):e.__proto__?.attributeChangedCallback?.call(this,u,r,c);const h=this[ze]?.[u];if(h){const l=h.attributeHandler;this[h.name]=l?c===null?"default"in l?l.default:null:l.from?l.from(c):c:c}}}e.hasOwnProperty(ze)||Object.defineProperty(e,ze,{value:{__proto__:e[ze]||Object.prototype}}),e[ze][t]={name:n,attributeHandler:i}}const Vr=e=>e;Te.string=()=>({from:Vr});function Yr(e,t){return Te(Te.string())(e,t)}const Qr=e=>+e;Te.number=()=>({from:Qr});function Jr(e,t){return Te(Te.number())(e,t)}const Zr=e=>e!=="false";Te.boolean=()=>({from:Zr});function ei(e,t){return Te(Te.boolean())(e,t)}function ti(e,t){let n="",i=!0;return n=e,(d,u)=>ni(d,u,n,i)}function ni(e,t,n,i){if(typeof e!="function"||t&&t.kind!=="class")throw new Error("@element is only for use on classes.");const{metadata:d={}}=t??{},u=Object.hasOwn(d,"noSignal")&&d.noSignal||void 0;let r=e;const c=r.observedAttributes;if(r.hasOwnProperty("elementName")?n=r.elementName||n:r.elementName=n,!Array.isArray(c)){if(c&&typeof c=="object"){r.observedAttributes=void 0;const m=new Error().stack;console.warn(`Defining the static observedAttributes property as a map of attribute names to attribute handlers is now deprecated, please use the static observedAttributeHandlers property to define the map instead.
`+m);const A=c;for(const O in A)Kt(r,O,c[O])}}const h=r.observedAttributeHandlers;if(h)for(const m of Object.keys(h))Kt(r,m,h[m]);r=zr(r,t);class l extends r{constructor(...A){super(...A),fe(()=>{si(this);const O=[],T=l.prototype[ze]??{};for(const L of Object.values(T)){const S=L.name;!u?.has(S)&&O.push(S);const C=L.attributeHandler;C&&!("default"in C)&&(C.default=this[S])}O.length&&Rr(this,...O)})}}const v=[...Xt];Xt.length=0;function k(){for(const m of v)m(l);n&&i&&globalThis.window?.customElements?.define(n,l)}return t?.addInitializer?t.addInitializer(k):k(),l}function si(e){if(e instanceof _t)for(const[t,n]of e._preUpgradeValues){if(!(t in e))continue;e._preUpgradeValues.delete(t);const i=Object.getOwnPropertyDescriptor(e,t);i&&"value"in i&&delete e[t],e[t]=n}}const ri=["container","segments","segment","textarea"],ii=`:host {
  display: contents;

  & .container {
    padding: inherit;
    padding-top: inherit;
    padding-right: inherit;
    padding-bottom: inherit;
    padding-left: inherit;
    width: inherit;
    height: inherit;
    min-width: inherit;
    min-height: inherit;
  }
}

.container {
  display: flex;
  position: relative;
  flex: 1;
  z-index: 1;
  box-sizing: border-box;
  overflow: auto;

  .segments {
    display: block;
    position: absolute;
    z-index: 1;
    /* fixes color change when textarea is focused */
    backface-visibility: hidden;
    contain: layout;
    pointer-events: none;
    font-size: inherit;
    line-height: inherit;
    font-family: monospace;
    white-space: pre;

    & .segment {
      position: fixed;
    }
  }

  & pre {
    margin: 0px;

    & span {
      margin: 0px;
      background: transparent !important;
    }
  }

  & .textarea {
    top: 0px;
    right: 0px;
    bottom: 0px;
    left: 0px;
    transition: color 0.5s;
    outline: none;
    border: none;
    background: transparent;
    padding: 0px;
    min-width: calc(var(--line-size) * 1ch);
    min-height: calc(var(--line-count) * 1em);
    overflow: hidden;
    resize: none;
    color: transparent;
    caret-color: black;
    font-size: inherit;
    line-height: inherit;
    line-height: inherit;
    font-family: monospace;
    text-align: inherit;
    white-space: nowrap;
  }

  & .textarea::selection {
    background: rgb(232, 232, 236);
  }
}
`,Rt=new Map;function Zn(e){if(e instanceof CSSStyleSheet)return e;if(!Rt.has(e)){const t=new CSSStyleSheet;t.replace(e),Rt.set(e,t)}return Rt.get(e)}let kn,es,Sn,wn,vn,Tn,An,Cn,Ln,In;function oi(e,t,n,i,d,u){function r(O,T,L){return function(S,w){return L&&L(S),O[T].call(S,w)}}function c(O,T){for(var L=0;L<O.length;L++)O[L].call(T);return T}function h(O,T,L,S){if(typeof O!="function"&&(S||O!==void 0))throw new TypeError(T+" must "+(L||"be")+" a function"+(S?"":" or undefined"));return O}function l(O,T,L,S,w,C,y,b,p,s,a,f,o){function g(N){if(!o(N))throw new TypeError("Attempted to access private element on non-instance")}var _,j=T[0],x=T[3],G=!b;if(!G){L||Array.isArray(j)||(j=[j]);var E={},B=[],H=w===3?"get":w===4||f?"set":"value";s?(a||f?E={get:jn(function(){return x(this)},S,"get"),set:function(N){T[4](this,N)}}:E[H]=x,a||jn(E[H],S,w===2?"":H)):a||(E=Object.getOwnPropertyDescriptor(O,S))}for(var X=O,q=j.length-1;q>=0;q-=L?2:1){var ee=j[q],re=L?j[q-1]:void 0,J={},Y={kind:["field","accessor","method","getter","setter","class"][w],name:S,metadata:C,addInitializer:function(N,D){if(N.v)throw Error("attempted to call addInitializer after decoration was finished");h(D,"An initializer","be",!0),y.push(D)}.bind(null,J)};try{if(G)(_=h(ee.call(re,X,Y),"class decorators","return"))&&(X=_);else{var Q,Z;Y.static=p,Y.private=s,s?w===2?Q=function(N){return g(N),E.value}:(w<4&&(Q=r(E,"get",g)),w!==3&&(Z=r(E,"set",g))):(Q=function(N){return N[S]},(w<2||w===4)&&(Z=function(N,D){N[S]=D}));var pe=Y.access={has:s?o.bind():function(N){return S in N}};if(Q&&(pe.get=Q),Z&&(pe.set=Z),X=ee.call(re,f?{get:E.get,set:E.set}:E[H],Y),f){if(typeof X=="object"&&X)(_=h(X.get,"accessor.get"))&&(E.get=_),(_=h(X.set,"accessor.set"))&&(E.set=_),(_=h(X.init,"accessor.init"))&&B.push(_);else if(X!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else h(X,(a?"field":"method")+" decorators","return")&&(a?B.push(X):E[H]=X)}}finally{J.v=!0}}return(a||f)&&b.push(function(N,D){for(var U=B.length-1;U>=0;U--)D=B[U].call(N,D);return D}),a||G||(s?f?b.push(r(E,"get"),r(E,"set")):b.push(w===2?E[H]:r.call.bind(E[H])):Object.defineProperty(O,S,E)),X}function v(O,T){return Object.defineProperty(O,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:T})}if(arguments.length>=6)var k=u[Symbol.metadata||Symbol.for("Symbol.metadata")];var m=Object.create(k??null),A=function(O,T,L,S){var w,C,y=[],b=function(H){return li(H)===O},p=new Map;function s(H){H&&y.push(c.bind(null,H))}for(var a=0;a<T.length;a++){var f=T[a];if(Array.isArray(f)){var o=f[1],g=f[2],_=f.length>3,j=16&o,x=!!(8&o),G=(o&=7)==0,E=g+"/"+x;if(!G&&!_){var B=p.get(E);if(B===!0||B===3&&o!==4||B===4&&o!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+g);p.set(E,!(o>2)||o)}l(x?O:O.prototype,f,j,_?"#"+g:ai(g),o,S,x?C=C||[]:w=w||[],y,x,_,G,o===1,x&&_?b:L)}}return s(w),s(C),y}(e,t,d,m);return n.length||v(e,m),{e:A,get c(){var O=[];return n.length&&[v(l(e,[n],i,e.name,5,m,O),m),c.bind(null,O,e)]}}}function ai(e){var t=ci(e,"string");return typeof t=="symbol"?t:t+""}function ci(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jn(e,t,n){typeof t=="symbol"&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(e,"name",{configurable:!0,value:n?n+" "+t:t})}catch{}return e}function li(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(e!==null?typeof e:"null"));return e}const ui=Qn(Object.fromEntries(ri.map(e=>[e,e]))),hi=Zn(ii);es=[ti("tm-textarea")];let gi;class yi extends _t{static{({e:[wn,Tn,An,Cn,Ln,In],c:[gi,kn]}=oi(this,[[Sn,0,"grammar"],[vn,0,"theme"],[Yr,0,"stylesheet"],[Jr,0,"lineHeight"],[ei,0,"editable"],[qt,0,"_value"]],es,0,void 0,_t))}[(Sn=Te(),vn=Te(),"grammar")]=wn(this,"source.tsx");theme=Tn(this,"dark-plus");stylesheet=An(this,"");lineHeight=Cn(this,1);editable=Ln(this,!0);_value=In(this,"");textarea=null;template=()=>{const t=this,n=this.shadowRoot.adoptedStyleSheets;return n.push(hi),this.stylesheet&&n.push(Zn(this.stylesheet)),Le(ui,{get lineHeight(){return t.lineHeight},get grammar(){return t.grammar},get theme(){return t.theme},get value(){return t._value},get editable(){return t.editable},textareaRef:i=>t.textarea=i})};get value(){return this.textarea.value}set value(t){this._value=t}static{kn()}}var di=Ze("<div class=app><div class=side-panel><h1>Solid Textmate Textarea</h1><footer><div><label for=mode>mode</label><button id=mode></button></div><br><div><label for=theme>themes</label><select id=theme></select></div><div><label for=lang>languages</label><select id=lang></select></div><br><div><label for=source>source</label><select id=source></select></div><div><label for=padding>padding</label><input id=padding type=number></div><div><label for=font-size>font-size</label><input id=font-size type=number></div><div><label for=editable>editable</label><button id=editable></button></div></footer></div><main><div>"),$t=Ze("<option>"),pi=Ze("<tm-textarea line-height=16>",!0,!1);const Gt={large:Array.from({length:10}).map(()=>Gs).join(`
`),small:"const sum = (a: number, b: number) => a + b"},fi=()=>{const[e,t]=le("solid"),[n,i]=le("light-plus"),[d,u]=le("source.tsx"),[r,c]=le(10),[h,l]=le(5),[v,k]=le("large"),[m,A]=le(!0),[O,T]=le(Gt[v()]);return He(()=>T(Gt[v()])),(()=>{var L=di(),S=L.firstChild,w=S.firstChild,C=w.nextSibling,y=C.firstChild,b=y.firstChild,p=b.nextSibling,s=y.nextSibling,a=s.nextSibling,f=a.firstChild,o=f.nextSibling,g=a.nextSibling,_=g.firstChild,j=_.nextSibling,x=g.nextSibling,G=x.nextSibling,E=G.firstChild,B=E.nextSibling,H=G.nextSibling,X=H.firstChild,q=X.nextSibling,ee=H.nextSibling,re=ee.firstChild,J=re.nextSibling,Y=ee.nextSibling,Q=Y.firstChild,Z=Q.nextSibling,pe=S.nextSibling,N=pe.firstChild;return p.$$click=()=>t(D=>D==="custom-element"?"solid":"custom-element"),we(p,e),o.$$input=D=>i(D.currentTarget.value),we(o,Le(Pt,{get each(){return Object.keys(Yn)},children:D=>(()=>{var U=$t();return we(U,D),U})()})),j.$$input=D=>u(D.currentTarget.value),we(j,Le(Pt,{get each(){return Object.keys(Vn)},children:D=>(()=>{var U=$t();return we(U,D),U})()})),B.$$input=D=>k(D.currentTarget.value),we(B,Le(Pt,{get each(){return Object.keys(Gt)},children:D=>(()=>{var U=$t();return we(U,D),U})()})),q.$$input=D=>l(+D.currentTarget.value),J.$$input=D=>c(+D.currentTarget.value),Z.$$click=D=>{A(U=>!U)},we(Z,()=>m()?"enabled":"disabled"),N.style.setProperty("resize","both"),N.style.setProperty("height","100px"),N.style.setProperty("width","100px"),N.style.setProperty("overflow","hidden"),we(N,Le(Mn,{get when(){return e()==="solid"},get fallback(){return(()=>{var D=pi();return D.$$input=U=>T(U.currentTarget.value),D.style.setProperty("box-sizing","border-box"),D.style.setProperty("resize","both"),D.style.setProperty("width","100%"),D.style.setProperty("height","100%"),D._$owner=Mt(),de(U=>{var oe=m(),_e=d(),ue=n(),ke=`${h()}px`;return oe!==U.e&&(D.editable=U.e=oe),_e!==U.t&&(D.grammar=U.t=_e),ue!==U.a&&(D.theme=U.a=ue),ke!==U.o&&((U.o=ke)!=null?D.style.setProperty("padding",ke):D.style.removeProperty("padding")),U},{e:void 0,t:void 0,a:void 0,o:void 0}),de(()=>D.value=O()),D})()},get children(){return Le(xr,{lineHeight:16,get editable(){return m()},get value(){return O()},get grammar(){return d()},get theme(){return n()},get style(){return{padding:`${h()}px`,"box-sizing":"border-box",resize:"both",width:"100%",height:"100%"}},onInput:D=>T(D.currentTarget.value)})}})),de(()=>o.value=n()),de(()=>j.value=d()),de(()=>B.value=v()),de(()=>q.value=h()),de(()=>J.value=r()),L})()};Dn(()=>Le(fi,{}),document.getElementById("root"));Yt(["click","input"]);
